= Asciidoctor User Manual
Sarah White <https://github.com/graphitefriction[@graphitefriction]>; Dan Allen <https://github.com/mojavelinux[@mojavelinux]>
:description: This guide describes the Asciidoctor attributes, values, and layout options available for producing a customized and polished document.
:keywords: AsciiDoc, Asciidoctor, syntax, reference
:doctype: book
:toc2: right
:sectanchors:
:sectlink:
:linkattrs:
:icons: font
:source-highligher: coderay
:experimental:
:idprefix:
:idseparator: -
:ast: &ast;
:dagger: pass:normal[^&dagger;^]
:y: icon:check-sign[role="green"]
:n:
:language: asciidoc
:table-caption!:
:example-caption!:
:figure-caption!:
:imagesdir: ../images
// Refs
:homepage: http://asciidoctor.org
:gem: http://rubygems.org/gems/asciidoctor
:gh-org: https://github.com/asciidoctor
:tilt: https://github.com/rtomayko/tilt
:jruby: http://jruby.org
:man: http://asciidoctor.org/man/asciidoctor
:rewrite-git: https://github.com/ocpsoft/rewrite/tree/master/transform-markup
:markup-ref: http://en.wikipedia.org/wiki/Lightweight_markup_language
:markdown-ref: http://daringfireball.net/projects/markdown
:fedora-docs: http://docs.fedoraproject.org
:java: http://asciidoctor.org/docs/install-and-use-asciidoctor-java-integration
:templates: https://github.com/asciidoctor/asciidoctor/blob/master/lib/asciidoctor/backends
:tests: https://github.com/asciidoctor/asciidoctor/tree/master/test
:docref: link:/docs
:editing-ref: {docref}/editing-asciidoc-with-live-preview
:asciidoclet-ref: 
:docbook-info-ref: http://www.docbook.org/tdg5/en/html/info.html
:richfaces-docinfo: https://github.com/richfaces/richfaces-docs/blob/master/Developer_Guide/src/main/docbook/en-US/Developer_Guide-docinfo.xml
:air-ref: http://en.wikipedia.org/wiki/Air_quotes
:xml-ref: http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references
:fontawesome-ref: http://fortawesome.github.io/Font-Awesome
:factory-ref: http://github.com/asciidoctor/asciidoctor-stylesheet-factory
:http-ref: http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html
:pygments-org: http://pygments.org
:showcase-ref: http://themes.asciidoctor.org/preview/
:docbook5-ref: http://www.docbook.org/tdg5/en/html/ch01.html#introduction-whats-new
:yelp: http://live.gnome.org/Yelp
:publican: http://fedorahosted.org/publican
:a2x: http://asciidoc.org/a2x.1.html
:man-raw: https://raw.github.com/asciidoctor/asciidoctor/master/man/asciidoctor.adoc
:man-backend-git: https://github.com/asciidoctor/asciidoctor-backends/tree/master/erb/manpage
:backend-git: http://github.com/asciidoctor/asciidoctor-backends
:deckjs-org: http://imakewebthings.com/deck.js
:deckjs-zip: https://github.com/imakewebthings/deck.js/zipball/stable
:deckjs-git: https://github.com/imakewebthings/deck.js
:decksplitjs-git: https://github.com/houqp/deck.split.js
:compass-ref: http://compass-style.org
:sass-ref: http://sass-lang.com
:foundation-ref: http://foundation.zurb.com
:get-ruby-ref: http://www.ruby-lang.org/en/downloads
:bundler-ref: http://rubygems.org/gems/bundler
:issue-ref: https://github.com/asciidoctor/asciidoctor/issues
:license: https://github.com/asciidoctor/asciidoctor/blob/master/LICENSE
:mojavelinux: https://github.com/mojavelinux
:erebor: https://github.com/erebor
:lightguard: https://github.com/lightguard
:nickh: http://github.com/nickh
:contributors: https://github.com/asciidoctor/asciidoctor/graphs/contributors
:gitscm-next: https://github.com/github/gitscm-next
:seed-contribution: https://github.com/github/gitscm-next/commits/master/lib/asciidoc.rb

[NOTE]
.This document is under active development and discussion!
====
If you discover errors or ommisions in this document, please don't hesitate to submit an issue or open a pull request with a fix.
We also encourage you to ask questions and discuss any aspects of the project on the mailing list or IRC.
New contributors are always welcome!
====

This manual assumes you are using Asciidoctor to produce and render your document.
Asciidoctor implements additional syntax, attributes and functions that the AsciiDoc processor can not handle.
<<appendix1#asciidoctor-vs-asciidoc,Appendix A>> lists which features are available to the Asciidoctor and AsciiDoc processors.

////
== Navigating this document

The first sections define the general concepts and terms used by Asciidoctor
Next, each Asciidoctor feature, its capabilities, and how it can be customized is reviewed.
And when applicable, the feature's attributes and options are summarized in a table at the section's end.
////

= Part 1: Introduction to Asciidoctor

NOTE: Section Pending

== What is Asciidoctor?

{homepage}[Asciidoctor] is an open source text processor and publishing toolchain for transforming AsciiDoc markup into HTML 5, DocBook 4.5 and 5.0 and other custom formats.
Asciidoctor is written entirely in Ruby, packaged as a RubyGem and published to {gem}[RubyGems.org].
There are also Fedora, Debian and Ubuntu packages available for installing Asciidoctor.
The git repositories for the project are hosted under the {gh-org}[Asciidoctor organization on GitHub] to encourage continued growth.

=== AsciiDoc syntax processing

Asciidoctor is a drop-in replacement for the original AsciiDoc python processor.
It reads and parses AsciiDoc markup (from a file or string) and feeds the parsed result to a set of built-in templates to render the document as HTML 5, DocBook 5.0 or 4.5.
You can override the built-in templates, or produce a custom format, by pointing the processor at a set of template files written in a language supported by {tilt}[Tilt].


NOTE: With few exceptions, Asciidoctor is compliant with the original AsciiDoc processor.
Asciidoctor has well over 1,000 tests to ensure compatibility with the AsciiDoc syntax.
We continue to work hard to ensure Asciidoctor continues to serve as a drop-in replacement for AsciiDoc. 

=== Asciidoctor's most notable benefits

////
The primary benefits and supporting features of the application.
////

While Asciidoctor aims to offer full compliance with the AsciiDoc syntax, it's more than just a clone.

.Built-in and custom templates
Asciidoctor uses a set of built-in ERB templates to generate HTML 5 and DocBook output that is structurally equivalent to what AsciiDoc produces. 
Any of these templates can be replaced by a custom template written in any template language available in the Ruby ecosystem. 
Custom template rendering is handled by the {tilt}[Tilt] template abstraction library.
Tilt is one of the most popular gems in the Ruby ecosystem.

.Parser and object model
Leveraging the Ruby stack isn't the only benefit of Asciidoctor. 
Unlike the AsciiDoc Python implementation, Asciidoctor parses and renders the source document in discrete steps. 
This makes rendering the document optional and gives Ruby programs the opportunity to extract, add or replace information in the document by interacting with the document object model Asciidoctor assembles. 
Developers can use the full power of the Ruby programming language to play with the content in the document.

.Performance and security
No coverage of Asciidoctor would be complete without mention of its 'speed'. 
Despite not being an original goal of the project, Asciidoctor has proven startlingly fast. 
It loads, parses and renders documents *25 times as fast* as the Python implementation. 
That's good news for developer productivity and good news for GitHub or any server-side application that needs to render AsciiDoc markup. 
Asciidoctor also offers several levels of security, further justifying its suitability for server-side deployments.

.Beyond Ruby
Asciidoctor's usage is not limited to the Ruby community. 
Thanks to {jruby}[JRuby], a port of Ruby to the JVM, Asciidoctor can be used inside Java applications as well.
Plugins are available for {gh-org}/asciidoctor-maven-plugin[Apache Maven],  {gh-org}/asciidoctor-gradle-plugin[Gradle], and {rewrite-git}[Rewrite].
These plugins are based on the {gh-org}/asciidoctor-java-integration[Java integration library] for Asciidoctor. 

Asciidoctor also ships with a command-line interface (cli). 
The Asciidoctor cli, {man}[+asciidoctor+], is a drop-in replacement for the +asciidoc.py+ script from the AsciiDoc Python distribution.

////
== The zen of writing AsciiDoc

AsciiDoc is about being able to focus on expressing your ideas, writing with ease and passing on knowledge without the distraction of complex applications or angle brackets.
In other words, it's about discovering _writing zen_.

AsciiDoc works because:

- It's readable
- It's concise
- It's comprehensive
- It's extensible
- It produces beautiful output (HTML, DocBook, PDF, ePub and more)

AsciiDoc is easy to write and its easy to read (in raw form).
It's also easy to proof and edit.
After all, it's plain text, just like that familiar e-mail.

The AsciiDoc syntax is intuitive because it recognizes time-tested, plain text conventions for marking up or structuring the text.
The punctuation was carefully chosen to look like what it means.
A user unfamiliar with AsciiDoc can figure out the structure and semantics (i.e., what you mean) just by looking at it.
Best of all, *it only requires a text editor to read or write*.

AsciiDoc allows you to focus on the actual writing and only worry about tweaking the output when you are ready to render the document.
The plain-text of an AsciiDoc document is easily converted into a variety of output formats, beautifully formatted, without having to rewrite the content.

Copy text from an e-mail into a document and see how quickly you can turn it into documentation.
Almost immediately, you'll find your writing zen and enjoy the rewarding experience of sharing knowledge.

Live or die by documentation? Live.
////

=== Compared to AsciiDoc

NOTE: Section Pending

==== What is AsciiDoc?

AsciiDoc is two things:

. A mature{empty}footnote:[AsciiDoc is over 10 years old. It was first introduced in 2002.], plain-text format for authoring notes, articles, documentation, books, ebooks, web pages, slide decks, blog posts, man pages and more.
. A text processor and toolchain for translating AsciiDoc documents into various formats (called _backends_), including HTML, DocBook, PDF and ePub{empty}footnote:[There are two implementations of the AsciiDoc processor. The original processor, named AsciiDoc, is written in Python. A more modern implementation, named Asciidoctor, is written in Ruby.].

AsciiDoc belongs to the family of {markup-ref}[lightweight markup languages], the most renowned of which is {markdown-ref}[Markdown].
AsciiDoc stands out from this group because it supports all the structural elements necessary for drafting articles, technical manuals, books, presentations and prose.
In fact, it's capable of meeting even the most advanced publishing requirements and technical semantics.

////
Serving as testament of this fact, many O'Reilly authors, including https://github.com/matthewmccullough[Matthew McCullough], https://github.com/tlberglund[Tim Berglund], https://github.com/oreillymedia/etudes-for-erlang[Simon St.Laurent] and http://www.apeth.net/matt/iosbooktoolchain.html[Matt Neuburg], have used AsciiDoc to write their books for that iconic technical library.

From the very beginning, AsciiDoc was designed to be a shorthand replacement for http://www.docbook.org/whatis[DocBook], one of the formats AsciiDoc can generate.
AsciiDoc can also produce beautiful HTML 5, PDFs, eBooks, man pages and even slide decks.
It has you covered from first draft to publishing.
////

=== Compared to MarkDown

NOTE: Section Pending

= Part 2: Quick Starts

NOTE: Section Pending

== Installation Quick Start

NOTE: Section Pending

== Usage Quick Start

NOTE: Section Pending

== Syntax Quick Start

NOTE: Section Pending

== Custom Output Quick Start

NOTE: Section Pending

= Part 3: Getting Started

NOTE: Section Pending

== Installation requirements

Asciidoctor works on Linux, Mac and Windows.

Asciidoctor requires one of the following implementations of Ruby:

* Ruby 1.8.7
* Ruby 1.9.3
* Ruby 2.0.0
* JRuby 1.7.4
* Rubinius 2.0 - _testing suspended until a release is available_

We expect Asciidoctor to work with other versions of Ruby as well.
We welcome your help testing those versions if you are interested in seeing them supported.

== Getting and Installing the Gem

Asciidoctor can be installed via the +gem+ command, bundler, or popular Linux package managers.

To install Asciidoctor using the +gem+ command:

. Open a terminal
. Type the +gem+ command

 $> gem install asciidoctor
 
=== bundle install (Bundler)

To install Asciidoctor using bundler:

. Open your system Gemfile
. Add the +asciidoctor+ gem to your Gemfile using the following text

 source 'https://rubygems.org'
 gem 'asciidoctor'

. Save the Gemfile
. Open a terminal
. Install the gem with bundler

 $> bundle install

=== yum install (Fedora)
 
To install Asciidoctor on Fedora 17 or greater:

. Open a terminal
. Type the +yum+ command
 
 $> sudo yum install rubygem-asciidoctor

The benefit of installing the gem via +yum+ is that the package manager will also install Ruby and RubyGems if not already on your machine.

=== apt-get install (Debian, Ubuntu)
 
To install Asciidoctor on Debian Sid or Ubuntu Saucy or greater:

. Open a terminal
. Type the +apt-get+ command
 
 $> sudo apt-get install asciidoctor

The benefit of installing the gem via +apt-get+ is that the package manager will also install Ruby and RubyGems if not already on your machine.

== Upgrading

If you have an earlier version of Asciidoctor installed, you can update it using the +gem+ command:

 $> gem update asciidoctor

[TIP]
====
If you accidentally use +gem install+ instead of +gem update+ then you will have both versions installed.
If you wish to remove the older version use the +gem+ command:

 $> gem cleanup asciidoctor
====

On Fedora, you can update it using:

 $> sudo yum update rubygem-asciidoctor

TIP: Your Fedora system may be configured to automatically update packages, in which case no further action is required by you.
Refer to the {fedora-docs}[Fedora docs] if you are unsure.

On Debian or Ubuntu, you can update it using:

 $> sudo apt-get upgrade asciidoctor

NOTE: The Fedora, Debian and Ubuntu packages will not be available right away after a release of the RubyGem.
It may take several weeks before the packages become available for a new release.
If you need the latest version immediately, use the +gem install+ option.

=== Extensions and options

NOTE: Section Pending

== Commandline Usage

Asciidoctor's CLI is a drop-in replacement for the +asciidoc.py+ command from the Python implementation. 
To invoke Asciidoctor from the CLI, execute:

 asciidoctor <asciidoc_file>

This will use the built-in defaults for options and create a new file in the same directory as the input file, with the same base name, but with the +.html+ extension.

There are many other options available and full help is provided via:

 asciidoctor --help

or in the {man}[man page].

There is also an +asciidoctor-safe+ command, which turns on safe mode by default, preventing access to files outside the parent directory of the source file. 
This mode is very similar to the safe mode of +asciidoc.py+.

=== Basic commands

If the Asciidoctor gem installed successfully, the +asciidoctor+ command line interface (CLI) will be available on your PATH.
To invoke it, execute:

 $> asciidoctor --version
 Asciidoctor 0.1.4 [http://asciidoctor.org]

=== From --help

NOTE: Section Pending

== API Usage

In addition to the CLI, Asciidoctor provides a Ruby API.
The API is intended for integration with other software projects and is suitable for server-side applications, such as Rails, Sinatra and GitHub.

TIP: Asciidoctor also has a Java API that mirrors the Ruby API.
The Java API calls through to the Ruby API using an embedded JRuby runtime.
See the {java}[Asciidoctor Java integration project] for more information.

=== Basic commands

To use Asciidoctor in your application, you first need to require the gem:

 require 'asciidoctor'

With that in place, you can start processing AsciiDoc documents.

==== Loading a document

To parse a file into an +Asciidoctor::Document+ object:

 doc = Asciidoctor.load_file 'sample.adoc'

You can get information about the document:

 puts doc.doctitle
 puts doc.attributes

More than likely, you will want to render the document.

==== Rendering files

--
To render a file containing AsciiDoc markup to HTML 5, use:

 Asciidoctor.render_file 'sample.adoc', :in_place => true

The command will output to the file +sample.html+ in the same directory. 

You can render the file to DocBook 4.5 by setting the +:backend+ option to +'docbook'+:

 Asciidoctor.render_file 'sample.adoc', :in_place => true, :backend => 'docbook'

The command will output to the file +sample.xml+ in the same directory. 
(If you're on Linux, you can view the file using yelp).
--

==== Rendering strings

--
To render an AsciiDoc-formatted string:

 puts Asciidoctor.render '*This* is Asciidoctor.'

When rendering a string, the header and footer are excluded by default to make Asciidoctor consistent with other lightweight markup engines like Markdown. 
If you want the header and footer, just enable it using the +:header_footer+ option:

 puts Asciidoctor.render '*This* is Asciidoctor.', :header_footer => true

Now you'll get a full HTML 5 file. 
If you only want the inline markup to be processed, set the +:doctype+ option to +'inline'+:

 puts Asciidoctor.render '*This* is Asciidoctor.', :doctype => 'inline'

As before, you can also produce DocBook 4.5:

 puts Asciidoctor.render '*This* is Asciidoctor.', :header_footer => true,
   :backend => 'docbook'

If you don't like the output you see, you can change it. 
Any of it!
--

==== Custom templates

--
Asciidoctor allows you to override the {templates}[built-in templates] used to render almost any individual AsciiDoc element. 
If you provide a directory of {tilt}[Tilt]-compatible templates, named in such a way that Asciidoctor can figure out which template goes with which element, Asciidoctor will use the templates in this directory instead of its built-in templates for any elements for which it finds a matching template. 
It will fallback to its default templates for everything else.

 puts Asciidoctor.render '*This* is Asciidoctor.', :header_footer => true,
   :template_dir => 'templates'

The Document and Section templates should begin with +document.+ and +section.+, respectively. 
The file extension is used by Tilt to determine which view framework it will use to use to render the template. 
For instance, if you want to write the template in ERB, you'd name these two templates +document.html.erb+ and +section.html.erb+. 
To use Haml, you'd name them +document.html.haml+ and +section.html.haml+.

Templates for block elements, like a Paragraph or Sidebar, would begin with +block_<style>.+. 
For instance, to override the default Paragraph template with an ERB template, put a file named +block_paragraph.html.erb+ in the template directory you pass to the +Document+ constructor using the +:template_dir+ option.

For more usage examples, see the (massive) {tests}[test suite].
--

== Output Formats

NOTE: Section Pending

= Part 4: Terms and Concepts

All of the content in an Asciidoctor document, including lines of text, predefined styles, and processing commands, is classified as either a block or an inline element.
Within each of these elements are an array of styles, options, and functions that can be applied to your content.

This section will provide you with an overview of what each of these elements and subelements are and the basic syntax and rules for using them.

== Block Elements

One or more lines of text in a document are defined as a block element.
Block elements can be nested within block elements.

A document can include the following block elements:

* Header
* Title
* Author Info
* First Name
* Middle Name
* Last Name
* Email Address
* Revision Info
* Revision Number
* Revision Date
* Revision Remark
* Attribute Entry
* Preamble
* Section
* Title
* Section Body
* BlockId
* Block Title
* Block Macro
* Block
* Paragraph
* Delimited Block
* Table
* List
* Bulleted List
* Numbered List
* Labeled List
* Callout List
* List Entry
* List Label
* List Item
* Item Text
* List Paragraph
* List Continuation

== Inline Elements

An inline element preforms an operation on a subset of the content within a block element.

Inline elements include:

* Quotes
* Replacements
* Special characters
* Special words
* Attribute references
* Inline macros

== Attributes

Attributes are one of the features that sets Asciidoctor apart from other lightweight markup languages.
Attributes activate features and store predefined styles, options, and replacement content.

In Asciidoctor, attributes are classified as:

* Intrinsic Attributes
* Attribute Entrys
* Attribute Lists
* BlockId Elements
* Macros
* API and Command Line Attributes

=== Attribute assignment precedence

By default, the attribute assignment precedence, from highest to lowest, is as follows:

- Attribute passed to the API or CLI
- Attribute defined in the document
- Intrinsic attribute value (default values)

Let's use the +doctype+ attribute to show how precedence works.

The intrinsic value for the +doctype+ attribute is +article+. 
Therefore, if +doctype+ is not set and assigned a value in the document, API or CLI it will be assigned the +article+ value (i.e. its default value).
However, if +doctype+ is set in the document and assigned a new value, such as +book+, the +book+ value will override the intrisic value.
Finally, a value assigned to +doctype+ via the API or CLI, will overrule the value in the document.

You can adjust the precedence of attribute values passed to the API or CLI.
By adding an +@+ symbol to the end of an attribute value passed to the API or CLI, it makes that assignment have a lower precedence than an assignment in the document. 

Let's add that to the precedence list defined earlier.

- Attribute passed to the API or CLI that does not end in +@+
- Attribute defined in the document
- Attribute passed to the API or CLI that ends in +@+
- Intrinsic attribute value (default values)

=== Using attributes: set, assign, and reference

Before you can use an attribute in your document, you must *set* it.
Sometimes, setting an attribute is also referred to as *toggling on*.
To set an attribute, you must add its name to the document.

Once set, many attributes can be assigned a value.
Values are the substitute text, content type, or operation that will replace any references to the attribute that the processor finds in the text.

An attribute reference is an inline element that calls the attribute entry with the same name.
An attribute's reference is its name enclosed in curly brackets.
The reference is replaced with the attribute's value when Asciidoctor processes the document.

A number of attributes and values are automatically used when the Asciidoctor processor renders a document.
These attributes are called intrinsic attributes.
For example, you do not need to set the +normal+ attribute on a basic paragraph because it is set by an intrinsic attribute.
But when you want a paragraph to have a different style, such as +TIP+, you set the +TIP+ attribute on a paragraph and +TIP+ will override the intrinsic +normal+ attribute.
Intrinsic attributes can be overriden or unset from the command line or within the document.

Attributes can be unset with the bang symbol (+!+).
The +!+ can be placed before or after the attribute's name.

For example, both:

 :attribute_name!:

and

 :!attribute_name:

mean "do not number" and unset the +numbered+ attribute.

The following sections will show you how to use attributes on your whole document, individual blocks, and inline elements.

NOTE: To learn about command line attributes and how to use them, proceed to <<part-3-processing-a-document>>.

////
Attributes can be set via the command line, in the document header, and on individual block and inline elements.

Attribute entries are most commonly set in the document header, though some can also be applied to individual elements.
Attribute lists are set on individual block and inline elements.

Attributes can also be assigned values.
Values can be 
Attributes are set and can be assigned values.
To set an attribute
Most often, attributes are defined in the document header, but they can also be defined inline or on the command line.
////

== Setting Attributes on a Document

When an attribute is set in the header of a document, it is called an attribute entry.

.Anatomy of an attribute entry
----
:attribute name: value
----

An attribute entry consists of the attribute's name and its value.
The attribute's name is preceded and followed by a colon.
After the second colon, there is at least one space and then the value.
The value is optional.

Once set, an attribute entry and its value are available for use throughout your entire document.
Attribute entries are used to toggle settings on and off or to set configuration variables that control the output generated by the AsciiDoc processor.
For example, to include a table of contents in your document, you can turn on (i.e., set) the +toc2+ attribute entry.

[source]
----
:toc2:
----

When the value field following an attribute is left empty, as it is in the example above, the default value will assigned.
The default value for +toc2+ is +left+; therefore, the table of contents will be placed on the left side of the document's content when it is rendered.
If you wanted the table of contents to be placed on the right side of the document, you must assign the attribute a new value.

[source]
----
:toc2: right
----

The +right+ value will override the default value.
The value assigned to an attribute in the document header will replace the intrinsic value.

Attribute entries are also used to store URLs.
Here's an example:

[source]
----
:fedpkg: https://apps.fedoraproject.org/packages/asciidoc
----

Now you can refer to this attribute entry anywhere in the document (where attribute substitution is performed) by surrounding its name in curly braces:
Here's the attribute in use:

[source]
Information about the AsciiDoc package in Fedora is found at {fedpkg}.

You can also set the base path to images (default: _empty_), icons (default: +./images/icons+), stylesheets (default: +./stylesheets+) and JavaScript files (default: +./javascripts+):

[source]
----
:imagesdir: ./images
:iconsdir: ./icons
:stylesdir: ./styles
:scriptsdir: ./js
----

When you find yourself typing the same text repeatedly, or text that often needs to be updated, consider assigning it to a document attribute and use that instead.

Attribute entries have the following characteristics:

* can be assigned to a document via the CLI or in the document's header and body
* have default values
** their default values are set when the user leaves the value field empty
* some have alternate values
* they can be unset (turned off) with a +!+
* they override config files, intrinsic attributes
* they do *not* override attributes issued from the command line
** a number of entry attributes can also be used on the command line

== Setting Attributes on an Element

An attribute list can apply to blocks, inline quotes text, and macros.
The attributes and their values contained in the list will take precedence over attribute entries.

.Anatomy of an attribute list
 [positional attribute,positional attribute,named attribute="value"]
 
Attribute lists:

. apply to blocks as well as macros and inline quoted text
. can contain positional and named attributes
. take precendence over global attributes

=== Positional Attribute

in an attribute list

not named

the first positional attribute in the list on inline quoted text is referred to as the role attribute

the first positional attribute in the list on blocks and macros is known as the style attribute

=== Named Attribute

Named attributes are assigned a value with an +=+ in an attribute list.

To undefine a named attribute, set the value to +none+.

== Style

The style attribute is the first positional attribute in an attribute list. 
It specifies a predefined set of characteristics that should apply to a block element or macro.

For example, a paragraph block can be assigned one of the following built-in style attributes:

* normal (default, so does not need to be set)
* literal
* verse
* quote
* listing
* TIP
* NOTE
* IMPORTANT
* WARNING
* CAUTION
* abstract
* partintro
* comment
* example
* sidebar
* source

== Id

The id attribute specifies a unique name for an element.
That name can only be used once in a document.

An id has two purposes:

. to provide an internal link or cross reference anchor for the element
. to reference a style or script used by the output processor

=== Block assignment

In an attribute list, there are two ways to assign an id attribute to a block element.

. Prefixing the name with a hash (+#+).
. Specifying the name with +id="name"+.

[source]
----
[#goals]
* Goal 1
* Goal 2
----

Let's say you want to create a blockquote from an open block and assign it an id and role.
You prepend the style +quote+ to the +#+ (+id+) in the first attribute position, as this example shows:

[source]
----
[quote#think, Donald Trump]
____
As long as you're going to be thinking anyway, think big.
____
----

TIP: The order of id and role values in the shorthand syntax does not matter.

=== Inline assignment

The id (+#+) shorthand can be used on inline quoted text.

.Quoted text block with +id+ assignment using Asciidoctor shorthand
----
[#free_the_world]*free the world*
----

////
.Quoted text block with +id+ assignment using traditional AsciiDoc syntax
----
[[free_the_world]]*free the world*
----
////

== Role

NOTE: Section introduction pending

////
The role attribute assigns xxxxxx
////

An element can be assigned numerous roles.

=== Block assignment

In an attribute list, there are two ways to assign a role attribute to a block element.

. Prefixing the name with a dot (+.+).
. Specifying the name with +role="name"+.

[source]
----
[.summary]
* Review 1
* Review 2
----

[source]
----
[role="summary"]
* Review 1
* Review 2
----

To specify multiple roles using the shorthand syntax, separate them by dots.

[source]
----
[.summary.incremental]
* Review 1
* Review 2
----

[source]
----
[role="summary,incremental"]
* Review 1
* Review 2
----

=== Inline assignment

The role (+.+) shorthand can be used on inline quoted text.

.Quoted text with +role+ assignments using traditional AsciiDoc syntax
----
[big goal]*free the world*
----

.Quoted text with +role+ assignments using Asciidoctor shorthand
----
[.big.goal]*free the world*
----

* The attribute list preceding formatted text can be escaped using a backslash (e.g., +\[role]*bold*+). In this case, the text will still be formatted, but the attribute list will unescaped and output verbatim.

.Role-playing for text enclosed in backticks
To align with other formatted (i.e., quoted) text in AsciiDoc, roles can now be assigned to text enclosed in backticks.

Given:

```
[rolename]`escaped monospace text`
```

the following HTML is produced:

```html
<code class="rolename">escaped monospace text</code>
```

Using the new shorthand notation in Asciidoctor 0.1.4, an id (i.e., anchor) can also be specified:

```
[#idname.rolename]`escaped monospace text`
```

which produces:

```html
<a id="idname"></a><code class="rolename">escaped monospace text</code> 
```
 
Keep in mind that text enclosed is not subject to other inline substitutions, but rather passed through as is.

== Options

The options attribute is a versatile named attribute that can contain a comma separated list of values.

It can also be defined globally with an attribute entry.

=== Block assignment

In an attribute list, there are three ways to assign an options attribute to a block element.

. Prefixing the value with a percent sign (+%+).
. Specifying the value with +opts="name"+
. Specifying the value with +options="name"+.

Consider a table block with the three option values +header+, +footer+, and +autowidth+. 

Here's how the options are assigned to the table using the shorthand notation (+%+).

.Shorthand Asciidoctor syntax
----
[%header%footer%autowidth]
|===
| Cell A | Cell B
|===
----

Here's how the options are assigned to the table using +options=+.

.Traditional AsciiDoc syntax
----
[options="header,footer,autowidth"]
|===
| Cell A | Cell B
|===
----

Let's consider the options when combined with other attributes. 

.Shorthand Asciidoctor block syntax
----
[horizontal.properties%step]
property 1:: does stuff
property 2:: does different stuff
----

.Traditional AsciiDoc block syntax
----
[horizontal, role="properties", options="step"]
property 1:: does stuff
property 2:: does different stuff
----

== Assign Document Variables Inline

Document variables can be assigned using the following syntax:

 {set:<attrname>[!][:<value>]}

For example:

[source,asciidoc]
{set:sourcedir:src/main/java}

It's effectively the same as:

 :sourcedir: src/main/java

This is important for being able to assign document attributes in places where attribute entry lines are not normally processed, such as in a table cell.

////
An example of where this might be used is documented in the {doc-variable-ref}[how to set the background color of a table cell] tip.
////

== Attribute Conventions

NOTE: Section Pending

=== Catching a missing or undefined attribute

By default, the original AsciiDoc processor drops the entire line if it contains a reference to a missing attribute (e.g., +\{bogus}+).
This "feature" was added for use in templates written for the original processor, which also used the AsciiDoc syntax.

This behavior is not needed in Asciidoctor since templates are written in a dedicated template language (e.g., ERB, Haml, Slim, etc).
More critically, the behavior is frustrating for the author, editor or reader.
To them, it's not immediately apparant when a line goes missing.
Discovering its absense often requires a full (and tedious) read-through of the document or section.

Asciidoctor 0.1.4 introduced two attributes to alleviate this inconvenience: +attribute-missing+ and +attribute-undefined+.

==== attribute-missing

The attribute +attribute-missing+ controls how missing references are handled.
By default, missing references are left intact so it's clear to the author when one hasn't been satisfied since, likely, the intent is for it to be replaced.

This attribute has three possible values:

+skip+:: leave the reference in place (default setting)
+drop+:: drop the reference, but not the line
+drop-line+:: drop the line on which the reference occurs (compliant behavior)

Consider the following line of AsciiDoc:

```
Hello, {name}!
```

Here's how the line is handled in each case, assuming the +name+ attribute is not defined:

[horizontal]
+skip+:: Hello, \{name}!
+drop+:: Hello, !
+drop-line+:: {empty}

==== attribute-undefined

The attribute +attribute-undefined+ controls how expressions that undefine an attribute are handled.
By default, the line is dropped since the expression is a statement, not content.

This attribute has two possible values:

+drop+:: substitute the expression with an empty string after processing it
+drop-line+:: drop the line that contains this expression (default setting and compliant behavior)

The option +skip+ doesn't make sense here since the statement is not intended to produce content.

Consider the following declaration:

```
{set:name!}
```

Depending on whether +attribute-undefined+ is +drop+ or +drop-line+, either the statement or the line that contains it will be discarded.
It's reasonable to stick with the compliant behavior, +drop-line+, in this case.

TIP: We recommend putting any statement that undefines an attribute on a line by itself.

== BlockId

NOTE: Section pending

== Macros

NOTE: Section pending

= Part 5: Building a Document

NOTE: Introduction Pending

== Text Editor

Since AsciiDoc syntax is just +plain+ +text+, you can write an AsciiDoc document using _any_ text editor.
You don't need complex word processing programs like Microsoft Word, OpenOffice Writer or Google Docs.
In fact, you shouldn't use these programs because they add cruft to your document that you can't see that makes conversion tedious.

While it's true any text editor will do, an editor that supports syntax highlighting for AsciiDoc may be more helpful.
The *[red]##c##[green]##o##[purple]##l##[fuchsia]##o##[blue]##r##* brings contrast to the text, making it easier to read.
The highlighting also confirms when you've entered the correct syntax for an inline or block element.

The most popular application for editing plain text on Mac OS X is *TextMate*.
A similar choice on Linux is *GEdit*.
On Windows, stay away from Notepad and Wordpad because they produce plain text which is not cross-platform friendly.
Opt instead for a competent text editor like *Notepad++*.
If you're a programmer (or a writer with an inner geek), you'll likely prefer *Vim*, *Emacs*, or *Sublime Text*, all of which are available cross-platform.
The key feature all these editors share is http://asciidoc.org/#_editor_support[syntax highlighting for AsciiDoc].

TIP: Previewing the output of the document while editing can be helpful.
To learn how to setup instant preview, check out the {editing-ref}[Editing AsciiDoc with Live Preview] tutorial.

== Basic Document Anatomy

NOTE: Section pending

== Document Title

Just as every e-mail has a subject, every document (typically) has a title.
The title goes at the top of an AsciiDoc document.

TIP: A document title is an _optional_ feature of an AsciiDoc document.

To create a document title, begin the first line of the document with one equal sign followed by at least one space (++= ++), then the text of the title.
This syntax is the simplest (and thus recommended) way to declare a document title.

Here's an example of a document title followed by an abbreviated paragraph:

[source]
----
= Lightweight Markup Languages

According to Wikipedia...
----

The document title is part of the document header.

=== Doctitle attribute

The +doctitle+ attribute can be used anywhere in a document. 
It's value is identical to the value returned by +Document#doctitle+.

[source,asciidoc]
.AsciiDoc +doctitle+ syntax
----
= Document Title

The document title is {doctitle}.
----

.+doctitle+ output result 
....
The document title is Document Title.
....

=== Displaying the title

When a document's header and footer are disabled, the document title will not be rendered by default.
However, if you do want the title to be render you can set the +showtitle+ attribute.
You can also achieve the same result by unsetting the +notitle+ attribute (i.e. +notitle!+).

=== Ignore front matter added for static-site generators

Many static site generators (i.e., Jekyll, Middleman, Awestruct) rely on "front matter" added to the top of the document to determine how to render the content.
Front matter typically starts on the first line of a file and is bounded by block delimiters (e.g., +---+).

Here's an example of a document that contains front matter:

```
--- <1>
layout: default <2>
--- <1>
= Document Title

content
```
<1> Front matter delimiters
<2> Front matter data

The static site generator removes these lines before passing the document to the AsciiDoc processor to be rendered.
Outside of the tool, however, these extra lines can throw off the processor.

If the +skip-front-matter+ attribute is set, Asciidoctor 0.1.4 will recognize the front matter and consume it before parsing the document.
Asciidoctor stores the content it removes in the +front-matter+ attribute to make it available for integrations.
Asciidoctor also removes front matter when reading include files.

TIP: Awestruct can read front matter directly from AsciiDoc attributes defined in the document header, thus eliminating the need for this feature.

[[doc-header]]
== Header

In all, the document header contains the title, author, revision information and document-wide attributes.
Let's see how to add additional information to the header, including an author.

There are two optional lines of text you can add immediately below the document title for defining common document attributes:

Line 1:: Author name and an optional e-mail address
Line 2:: An optional revision, a date and an option remark

Let's add these lines to our document:

[source]
----
= Lightweight Markup Languages
Doc Writer <doc.writer@asciidoc.org>
v1.0, 2012-01-01

According to Wikipedia...
----

The header now contains a document title, an author, a revision number and a date.
This information will be formatted when the document is rendered.

NOTE: The header, including the document title, is _not required_.
If absent, Asciidoctor will happily render whatever content is present.
The header is only used when rendering a full document.
It's excluded from the output of an embedded document.

The document header is also used to define attributes.
Document settings are configured using attribute entries immediately following the document title, author and revision lines (without any blank lines in between).
 
=== asciidoctor

blank

=== asciidoctor-version

Version of the processor

=== backend

The Asciidoctor and AsciiDoc processors parse a document and translate it into a variety of formats, including HTML, DocBook and PDF.
The processor produces the output format by using a backend that you specify with the +-b+ (+--backend+) command-line option.
If no backend is indicated, the processor's default backend is used.

Asciidoctor has three native backends.

+html5+:: HTML 5 markup styled with CSS3.
Asciidoctor's default backend.
+docbook+:: DocBook XML 4.5 markup.
+docbook5+:: DocBook XML 5.0 markup.

The AsciiDoc processor supports numerous backends, including:

+xhtml11+:: XHTML 1.1 markup styled with CSS2.
AsciiDoc's default backend.
+html5+:: HTML 5 markup styled with CSS3.
+docbook+:: DocBook XML 4.5 markup.
+pdf+:: Portable Document Format (PDF).

=== description

You can set the description of the document using the +description+ attribute. 
The description is included in the header of the document.

 :description: This document catalogs a set of recommended practices for writing in AsciiDoc.

You can break any attribute value across several lines by ending the lines in a +{plus}+ preceded by a space.

 :description: This document catalogs a set of recommended practices +
               for composing documents in AsciiDoc.
               
 :desc: 

You can use this text anywhere in the document by referencing it as an attribute.

 {description}
 
////
.Built-in data attributes
asciidoc (or asciidoctor):: _blank_

asciidoc-version (or asciidoctor-version):: Version of the processor

doctype:: Document's doctype (e.g., article)

backend:: Backend used to render document

localdate:: Local date when rendered

localtime:: Local time when rendered

localdatetime:: Local date & time when rendered

docdate:: Last modified date

doctime:: Last modified time

docdatetime:: Last modified date & time

docfile:: Name of document file

docdir:: Name of document directory

doctitle:: The title of the document
////

=== docdate

Last modified date

=== docdatetime

Last modified date & time

=== docdir

Name of document directory

=== docfile

Name of document file

=== doctime

Last modified time

=== doctitle

The +doctitle+ attribute can be used anywhere in a document. 
It's value is identical to the value returned by +Document#doctitle+.

=== doctype

Article:: Default doctype
In DocBook, includes the appendix, abstract, bibliography, glossary, and index sections

Book:: The same as articles with the additional ability to use a top level title as part titles, includes the appendix, dedication, preface, bibliography, glossary, index, and colophon

Inline:: There may be cases when you only want to apply inline AsciiDoc formatting to input text without wrapping it in a block element. 
For example, in the {asciidoclet-ref}[Asciidoclet project] (AsciiDoc in Javadoc), only the inline formatting is needed for the text in Javadoc tags.

The rules for the inline doctype are as follows:

* Only a single paragraph is read from the AsciiDoc source
* Inline formatting is applied
* The output is not wrapped in the normal paragraph tags

Given the following input:

[source,asciidoc]
http://asciidoc.org[AsciiDoc] is a _lightweight_ markup language...

Processing it with the options +doctype=inline+ and +backend=html5+ produces:

[source,html]
<a href="http://asciidoc.org">AsciiDoc</a> is a <em>lightweight</em> markup language&#8230;

The Asciidoctor processor is now able to cover the full range of output, from unstructured (inline) text to a full, standalone document!

CAUTION: Asciidoctor only.

Manpage:: Special title and section naming conventions used to generate roff format UNIX manual pages.
Corresponds to the DocBook refentry document type

=== localdate

Local date when rendered

=== localdatetime

Local date and time when rendered

=== localtime

Local time when rendered

=== Docinfo file

You can add custom content to the header or footer of a document with document information (+docinfo+) files.
The docinfo file's content and file extension depends on whether the source document's output is HTML or DocBook.

==== Creating a docinfo file

When the source document will be rendered to HTML, the docinfo file can contain the elements allowed in an HTML +<HEAD>+ section, including:

* +<base>+
* +<link>+
* +<meta>+
* +<noscript>+
* +<script>+
* +<style>+
* +<title>+

As seen in the example below, docinfo files are useful for storing metadata, stylesheet, and script information.
Note that you do not need to include the +<head>+ tag, nor is the +<title>+ tag required.

.A docinfo file for HTML output
[source,html]
----
<meta name="keywords" content="open source, documentation">
<meta name="description" content="The dangerous and thrilling adventures of an open source documentation team.>
<link rel="stylesheet" href="basejump.css">
<script src="map.js"></script>
----

Docinfo files for HTML output must be saved with the +.html+ file extension.

When DocBook 5.0 is the rendered output, the docinfo file may include any of the {docbook-info-ref}[+<info>+ element's 48 children], such as:

* +<address>+
* +<copyright>+
* +<edition>+
* +<keywordset>+
* +<publisher>+
* +<subtitle>+

The following example shows some of the content a docinfo file for DocBook might contain.

.A docinfo file for DocBook 5.0 output
[source,xml]
----
<author>
  <personname>
    <firstname>Karma</firstname>
    <surname>Chameleon</surname>
  </personname>
  <affiliation>
    <jobtitle>Word SWAT Team Leader</jobtitle>
  </affiliation>
</author>

<keywordset>
  <keyword>open source</keyword>
  <keyword>documentation</keyword>
  <keyword>adventure</keyword>
</keywordset>

<printhistory>
  <para>April, 2019. Twenty-sixth printing.
  </para>
</printhistory>
----

Docinfo files for DocBook output must be saved with the +.xml+ file extension.
To see another example of a docinfo file for DocBook, checkout the {richfaces-docinfo}[RichFaces Developer Guide docinfo file].

==== Docinfo attributes and file names

To add content from a docinfo file to the header of a rendered document:

. The docinfo file must be named correctly
. The appropriate docinfo attribute must be set in the source document

How you name your docinfo file and the docinfo attribute you set in your source document depends on whether you want to add content to:

[loweralpha]
. a specific document
. all the documents in a directory
. a and b

The attributes and the corresponding file names are listed in the table below.

.Docinfo attributes and file names
|===
|Attribute |Purpose |docinfo file name for HTML |docinfo file name for DocBook

|docinfo
|Add content to a specific document
|+<docname>-docinfo.html+ 
|+<docname>-docinfo.xml+

|docinfo1
|Add content to all documents in the same directory
|+<docname>.html+ 
|+<docname>.xml+

|docinfo2
|Add content from either docinfo file
|+<docname>.html+, +<docname>-docinfo.html+  
|+<docname>.xml+, +<docname>-docinfo.xml+
|===

Let's apply the information above to an example exercise.

You have two AsciiDoc documents, +adventure.adoc+ and +insurance.adoc+, saved in the same folder.
You want to add the same content to the headers of both documents when they're rendered to HTML.

. Create a docinfo file using +<head>+ elements.
. Save the docinfo file as +docinfo.html+.
. Set the +docinfo1+ attribute in +adventure.adoc+ and +insurance.adoc+.

You also want to include some additional content to the header of +adventure.adoc+.

. Create *another* docinfo file using +<head>+ elements.
. Save the docinfo file as +adventure-docinfo.html+.
. Set the +docinfo+ attribute in +adventure.adoc+.
. Alternatively, you could remove the +docinfo1+ attribute and set +docinfo2+ instead.

==== Footer docinfo files

Footer docinfo files are differentiated from header docinfo files by adding +-footer+ to the file name.
In the HTML output, the footer content is inserted inside the footer div (i.e., +<div id="footer">+).
In the DocBook output, the footer content is inserted immediately before the ending +</article>+ or +</book>+ element.

.docinfo
If you want to add content to the footer of a specific document, put the content in the file +<docname>-footer.html+ (for HTML output) or +<docname>-footer.xml+ (for DocBook output), where +<docname>+ is the name of the document without the AsciiDoc extension.
Then, set the attribute +docinfo+ in the source document.

.docinfo1
If you want to add content to the footer of all documents in the same directory, put the content in the file +docinfo-footer.html+ or +docinfo-footer.xml+.
Then, set the attribute +docinfo1+ in the source document to enable the feature.

.docinfo2
If you want the document to look for either docinfo file, set the attribute +docinfo2+ in the source document.

TIP: The "Last updated" line in the footer can be disabled by unassigning the attribute +last-update-label+.

==== Attribute substitution

Docinfo files can include attribute references.

For example, if you created the following docinfo file:

.Docinfo file containing a +revnumber+ attribute reference
[source,xml]
----
<edition>{revnumber}</edition>
----

And this source document:

.Source document including a revision number
----
= Document Title
Author Name
v1.0, 2013-06-01
:doctype: book
:backend: docbook
:docinfo:
----

Then the rendered DocBook output would be:

[source,xml]
----
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<book lang="en">
  <bookinfo>
    <title>Document Title</title>
    <date>2013-06-01</date>
    <author>
      <firstname>Author</firstname>
      <surname>Name</surname>
    </author>
    <authorinitials>AN</authorinitials>
    <revhistory>
      <revision>
        <revnumber>1.0</revnumber>
        <date>2013-06-01</date>
        <authorinitials>AN</authorinitials>
      </revision>
    </revhistory>
<edition>1.0</edition> <!--1-->
  </bookinfo>
</book>
----
<1> The +revnumber+ attribute reference was replaced by the source document's revision number in the rendered output.

== Table of Contents

When the +docbook+ backend is set, a table of contents (ToC) is generated automatically from the section level IDs.
The ToC is inserted directly below the document's title and author, titled _Table of Contents_, and lists the section 1 and section 2 level headings.

To include a ToC when using the +html+ or a custom backend, you must set either the +toc+ or +toc2+ attribute.
The +toc+ attribute can be specified via the command line (+-a toc+) or in the document's header (+:toc:+) 

.+toc+ set via the CLI
----
$ asciidoctor -a toc adventure.adoc
----

.+toc+ set in the document's header
----
= The Dangerous and Thrilling Documentation Chronicles
Karma Chameleon
:toc:

The journey begins...

== Cavern Glow

The river rages through the cavern, rattling its content...
----

If the +toc+ attribute is set, a table of contents is inserted directly below the document's title and author when it is rendered.

.Result: Setting the +toc+ attribute
image::toc.png[Default table of contents, align="center"]

Asciidoctor provides additional attributes to customize the placement, layout and title of the TOC.

=== Left column layout

A ToC can also be generated by setting the +toc2+ attribute.
When the +toc2+ attribute is set, the ToC is rendered in a column located to the left of the document's content.
The column is scrollable and fixed.

.Setting the +toc2+ attribute
----
= The Dangerous and Thrilling Documentation Chronicles
Karma Chameleon
:toc2:

The journey begins...

== Cavern Glow

The river rages through the cavern, rattling its content...
----

.Result: Setting the +toc2+ attribute
image::toc2.png[Table of contents using toc2]

=== Right column layout

The ToC can be positioned in a column to the right of the document's content by assigning the value +right+ to the +toc+, +toc2+, or +toc-position+ attributes.

.Assigning the +right+ value to +toc+
----
= The Dangerous and Thrilling Documentation Chronicles
Karma Chameleon
:toc: right

The journey begins...

== Cavern Glow

The river rages through the cavern, rattling its content...
----

.Result: Assigning the +right+ value to +toc+
image::toc_right.png[Table of contents using right value]

NOTE: If you were to set +toc2+ and assign it the +right+ value, the result would be the same.

// Why use toc-position - assign position when toc set by CLI

=== Manual placement

The +toc-placement+ attribute allows you to place the ToC anywhere in your document.
To control where the ToC is rendered in your document, unset the +toc-placement+ attribute.
Then, within the body of your document, use the +toc::[]+ block macro to indicate the ToC's location.

.Unsetting +toc-placement+ and using the +toc::[]+ macro
----
= The Dangerous and Thrilling Documentation Chronicles
Karma Chameleon
:toc: <1>
:toc-placement!: <2>

The journey begins...

== Cavern Glow

toc::[] <3>

The river rages through the cavern, rattling its content...
----
<1> The +toc+ attribute must be set in order to use +toc-placement+.
<2> +toc-placement+ is unset by placing a +!+ after its name in the document's header.
<3> In this example, the +toc::[]+ macro is placed below the first section's title, indicating that this is the location where the ToC will be displayed once the document is rendered.

.Result: Unsetting +toc-placement+ and using the +toc::[]+ macro
image::toc_placement.png[Manual placement of the table of contents]

Asciidoctor also includes a built-in +preamble+ value.
This value places the ToC below the preamble.
You do not need to include the +toc::[]+ block macro in the document when using the +preamble+ value.

If you set +toc-placement+ but don't assign it a value, the ToC will be placed in the document's header.

CAUTION: The +toc-placement+ and +toc-position+ attributes are mutually exclusive.

=== Title

The +toc-title+ attribute allows you to change the title of the ToC.

.Defining a new ToC title
----
= The Dangerous and Thrilling Documentation Chronicles
Karma Chameleon
:toc: <1>
:toc-title: Table of Adventures <2>

The journey begins...

== Cavern Glow

The river rages through the cavern, rattling its content...
----
<1> The +toc+ attribute must be set in order to use +toc-title+.
<2> +toc-title+ is set and assigned the value +Table of Adventures+ in the document's header.

.Result: Defining a new ToC title
image::toctitle.png[Table of contents title]

=== Levels

By default, the ToC will display level 1 and level 2 section titles.
You can set a different level with the +toclevels+ attribute.

.Defining a new +toclevels+ value
----
= The Dangerous and Thrilling Documentation Chronicles
Karma Chameleon
:toc: <1>
:toclevels: 4 <2>

The journey begins...

== Cavern Glow

The river rages through the cavern, rattling its content...

== The Ravages of Writing

My finger socks had been vaporized by crystalline nuggets of...

=== A Recipe for Potion

Two fresh Burdockian leaves, harvested by the light of the teal moons...

==== Searching for Burdockian

Crawling through the twisted understory...
----
<1> The +toc+ attribute must be set in order to use +toclevels+.
<2> +toclevels+ is set and assigned the value +4+ in the document's header. The ToC will list the titles of the section 1, 2, 3, and 4 levels when the document is rendered.

.Result: Defining a new +toclevels+ value
image::toclevel.png[Table of contents display levels]

=== Summary

[cols="1,1,2,2,1"]
.Table of contents attributes and values
|===
|Attribute |Values |Example Syntax |Comments |Backends

|toc
|auto, left, right
|+:toc:+
|DocBook backend sets it by default.
|html, docbook

|toc2
|auto, right
|+:toc2: right+
|The default value is left.
|html

|toclevels
|1, 2, 3, 4, 5
|+:toclevels: 4+
|Default value is 2.
|html

|toc-placement
|auto, preamble
|+:toc-placement: preamble+
|Unset +toc-placement+ in order to use the +toc::[]+ macro in the document body.
|html

|toc-position
|left, right
|+:toc-postion: right+
|
|html

|toc-title
|user defined
|+:toc-title: Rocking the Table+
|Default title is _Table of Contents_.
|html

|===

[[doc-preamble]]
== Preamble

Content between the document header and the first section level title is called the preamble.
A preamble is optional.

.Preamble
----
= The Dangerous and Thrilling Documentation Chronicles
Karma Chameleon

This journey begins on a bleary Monday morning.
Our intrepid team is in desperate need of double shot mochas, but the milk expired eight days ago.
A trip to the dairy was out of the question.
On Friday night, a mutant, script-injecting warlock had infected the Shetland cattle herd with a ravenous craving for tags and annotations.
The security wolves were at a trust building retreat in Katchanga, and no one in the village could locate their defensive operations manual.

Weak daylight trickled across the stripped pasture, chased by distant bovine screams...

== Cavern Glow

The river rages through the cavern, rattling its content...
----

When using the default Asciidoctor stylesheet, the <<lead-paragraph,+lead+ attribute>> is applied to the first paragraph of the preamble.

.Result: Rendered preamble
image::preamble.png[Preamble with lead attribute applied, align="center"]

== Sections

Sections partition the document into a content hierarchy.
In Asciidoctor, sections are defined using section titles.

A section title uses the same syntax as a document title (+=+), except the line may begin with two to six equal signs instead of just a single equal sign.
The number of equal signs represents the nesting level (using a 0-based index).

Here are the section levels permitted in a document shown below the document title:

.Section titles available in an article doctype
[source, asciidoc]
----
= Document Title (Level 0)

== Level 1 Section

=== Level 2 Section

==== Level 3 Section

===== Level 4 Section

====== Level 5 Section

== Another Level 1 Section
----

TIP: In addition to the equals marker used for defining single-line section titles, Asciidoctor recognizes the hash symbol (+#+) from Markdown.
That means the outline of a Markdown document will render just fine as an AsciiDoc document.

Section levels cannot be chosen arbitrarily.
There are two rules you must follow:

. A document can only have multiple level 0 sections if the +doctype+ is set to +book+.
. Section levels cannot be skipped when nesting sections

For example, the following syntax is illegal:

[source, asciidoc]
----
= Document Title

= Illegal Level 0 Section (violates rule #1)

== First Section

==== Illegal Nested Section (violates rule #2)
----

Content above the first section (after the document title) is part of the preamble.
Once the first section is reached, content is associated with the section that proceeds it:

[source]
----
== First Section

Content of first section

=== Nested Section

Content of nested section

== Second Section

Content of second section
----

=== Titles as headings

When the document is rendered as HTML 5 (using the built-in +html5+ backend), each section title becomes a heading element where the heading level matches the number of equal signs.
For example, a level 1 section (+==+) maps to an +<h2>+ element.

=== Title id and idprefix

Section ids are generated from the section title and prefixed with an underscore (+_+) by default. 
You can change the prefix using the +idprefix+ attribute.

 :idprefix: -

If you want to remove the prefix, assign it to an empty value:

 :idprefix:

To disable the auto-generation of section IDs, unset the +sectids+ attribute:

 :sectids!:

=== Links

To turn section titles into links, enable the +sectlink+ attribute. 
The default Asciidoctor stylesheet displays linked section titles with the same color and styles as unlinked section titles.

=== Anchors

When the +sectanchors+ attribute is enabled on a document, an anchor (empty link) is added before the section title. 
The default Asciidoctor stylesheet renders the anchor as a section entity (+&sect;+) that floats to the left of the section title.

=== Numbering

Asciidoctor allows section numbering to be toggled on and off throughout a document.
You can enable section numbers using the +numbered+ attribute.

 :numbered:

You can also use this attribute entry above any section title in the document to toggle the auto-numbering setting.
When you want to turn off the numbering, add an exclamation point to the end of the attribute name:

[source]
----
:numbered!:

== Unnumbered Section
----

For regions of the document where section numbering is turned off, the section numbering will not be incremented.

Given:

----
= Document Title

:numbered!:

== Colophon Section

== Another Colophon Section

== Last Colophon Section

:numbered:

== Section One

== Section Two

== Section Three
----

The sections will be numbered as follows:

----
Colophon Section

Another Colophon Section

Last Colophon Section

1. Section One

2. Section Two

3. Section Three
----

Asciidoctor will always curtail incrementing the section number in regions of the document where section numbers are off.

If +numbered+ is set on the command line (or API), that overrides the value set in the document header, but it does not prevent the document from toggling the value for regions of the document.

If +numbered!+ is set on the command line (or API), then the numbers are disabled regardless of toggling within the document.

=== Summary

[cols="1,1,2,2"]
.Section attributes and values
|===
|Attribute |Value(s) |Example Syntax |Comments

|sectid
|empty
|+:sectid!:+
|Intrinsic; Set to autogenerate by default

|idprefix
|_, empty, or user defined text
|+:idprefix: ~+
|Intrinsic; Set to autogenerate a +_+ by default
 
|sectanchors
|-
|+:sectanchors:+
|Asciidoctor only. 

|sectlinks
|-
|+:sectlinks:+
|Asciidoctor only. 

|numbered
|-
|+:numbered:+
|Section numbering is off by default.
Can be toggled on or off throught document.
|===

== Discrete or Floating Title

The +discrete+ attribute can be applied to any section titles that start with two to six equal signs (+==+).
A discrete title is styled like a section title but is not part of the content heirarchy (i.e., it ignores section nesting rules). 
Nor will it be included in the ToC.

----
[discrete] <1>
== Discrete Title for a Sidebar <2>

**** <3>
Discrete titles are useful for labelling large sidebar and admonition blocks.
****
----
<1> Set the +discrete+ attribute above the title
<2> The title must be designated by two to six equal signs
<3> Delimiter specifying the beginning of a sidebar block

NOTE: You can also use the +float+ attribute to create a discrete title.
However, the content in the discrete section will not be repositioned (i.e., float) to the left or right of other content blocks.

== Block Title

You can assign a title to any paragraph, list, delimited block, or block macro.
In most cases, the title is displayed immediately above the content.
If the content is a figure or image, the title is displayed below the content.

A block title is defined on a line above the element.
The line must begin with a dot (+.+) and be followed immediately by the title text with no spaces in between.

Here's an example of a list with a title:

[source]
----
.TODO list
- Learn the AsciiDoc syntax
- Install Asciidoctor
- Write my document
----

== Block Metadata

In addition to a title, a block can be assigned additional metadata including:

* Id (i.e., anchor)
* Style (first unnamed block attribute)
* Named block attributes

Here's an example of a quote block with metadata:

[source]
----
.Gettysburg Address <1>
[[gettysburg]] <2>
[quote, Abraham Lincoln, Soldiers' National Cemetery Dedication] <3> <4> <5>
____
Four score and seven years ago our fathers brought forth
on this continent a new nation...

Now we are engaged in a great civil war, testing whether
that nation, or any nation so conceived and so dedicated,
can long endure. ...
____
----
<1> Title: Gettysburg Address
<2> Id: gettysburg
<3> Style: quote
<4> attribution: Abraham Lincoln (Named block attribute)
<5> citetitle: Dedication of the Soldiers' National Cemetery (Named block attribute)

TIP: A block can have multiple block attribute lines.
The attributes will be aggregated.
If there is a name conflict, the last attribute defined wins.

Some metadata is used as supplementary content, such as the title, whereas other metadata controls how the block is rendered, such as the style.

////
== Block id

NOTE: Pending

== Block Style

A block style is the first positional attribute in the block attribute list.
////

== Delimited Block

The AsciiDoc syntax provides a set of components for including non-paragraph text--such as block quotes, source code listings, sidebars and tables--in your document.
These components are referred to as _delimited blocks_ because they are surrounded by delimiter lines.

Within the boundaries of a delimited block, you can enter any content or blank lines.
The block doesn't end until the ending delimiter is found.
The delimiters around the block determine the type of block, how the content is processed and rendered and what elements are used to wrap the content in the output.

=== Masquerading blocks

Some blocks can masquerade as other blocks, a feature which is controlled by the block style.

=== Built-in block style summary

The following table identifies the built-in styles for paragraph blocks and delimited blocks, their purpose and what substitutions are performed on its content.

[cols="1,1m,1m,1,1"]
|===
|Style |Paragraph |Delimiter |Purpose |Substitutions

|abstract
|$$[abstract]$$
|$$--$$
|
|

|admonition
|$$LABEL:$$ or $$[LABEL]$$
|can masquerade
|
|

|appendix
|$$[appendix]$$
|
|
|

|example
|
|$$====$$
|Designates example content or defines an admonition block
|Normal

|fenced code
|
|$$```$$
|Source code or keyboard input to be displayed as entered
|Verbatim

|glossary
|$$[glossary]$$
|
|
|

|literal
|$$[literal]$$
|$$....$$
|Output text to be displayed exactly as entered
|Verbatim

|listing
|
|$$----$$
|Source code or keyboard input to be displayed as entered
|Verbatim

|partintro
|$$[partintro]$$
|can be used on an open block
|
|

|quote
|$$[quote]$$
|$$____$$*
|A quotation with optional attribution
|Normal

|verse
|$$[verse]$$
|$$____$$
|A verse with optional attribution
|Normal

|sidebar
|
|$$****$$
|Aside text rendered outside the flow of the document
|Normal

|source
|
|$$----$$
|Source code or keyboard input to be displayed as entered
|Verbatim

|table
|
|$$\|===$$
|Used to display tabular content or advanced layouts
|Varies

|open
|
|$$--$$
|Anonymous block that can act as any other block (except _pass_ or _table_)
|Varies

|pass
|
|$$++++$$
|Raw text to be passed through unprocessed
|None

|comment
|$$//$$
|$$////$$
|Private notes that are not displayed in the output
|None

|===
* additional forms available

This table shows the substitutions performed by each substitution group referenced in the previous table.

.Substitution groups
|===
|Group     |Special characters |Callouts |Quotes |Attributes |Replacements |Macros |Post replacements
h|Normal   |Yes                |No       |Yes    |Yes        |Yes          |Yes    |Yes
h|Verbatim |Yes                |Yes      |No     |No         |No           |No     |No
h|None     |No                 |No       |No     |No         |No           |No     |No
|===

=== Delimiters optional

If the content is contiguous (not interrupted by blank lines), you can forgo the use of the block delimiters and instead use the block style above a paragraph to repurpose it as one of the delimited block types.

This format is often used for single-line listings:

[source]
----
[listing]
sudo yum install asciidoc
----

or single-line quotes:

[source]
----
[quote]
Never do today what you can put off 'til tomorrow.
----

== Paragraph

The bulk of the content in an AsciiDoc document is paragraph text.
Normal paragraphs do not require any special markup or attributes.
Just start typing.

....
In Asciidoctor, the main structural element is the paragraph.
A paragraph consists of adjacent lines of text.

To start a new paragraph, leave a blank line by hitting
Enter twice, then just keep on typing.
....

=== Wrapped text and hard line breaks

....
Adjacent lines like these are combined as a single paragraph.
That means you can wrap paragraph text
or put each sentence on a separate line
and the line breaks won't appear in the output.
....

Here's how the previous lines look when rendered:

____
Adjacent lines like these are combined as a single paragraph.
That means you can wrap paragraph text or put each sentence on a separate line and the line breaks won't appear in the output.
____

If you want line breaks in a paragraph to be preserved, add a space followed by a plus sign at the end of the sentence:

....
Roses are red, +
Violets are blue.
....

Alternatively, if you want line breaks in a paragraph to be preserved, add the following attribute entry to the header of your document.

 :hardbreaks:

=== Lead paragraph

Apply +role="lead"+ to any paragraph, and it will appear in the style of a lead paragraph (i.e., larger font).

----
[.lead]
This is the ultimate paragraph.
----

====
[.lead]
This is the ultimate paragraph.
====

== Text

Just as we emphasize certain words and phrases when we speak, we can emphasize them in text by surrounding them with punctuation.
AsciiDoc refers to this markup as _quoted text_.

For instance, in an e-mail, you might ``speak'' a word louder by enclosing it in asterisks.

[source]
I can't believe it, we *won*!

As you would expect, the asterisks make the text *won* bold.
You can almost sense the emotion.
This is one example of quoted (i.e., formatted) text.

NOTE: The term ``quote'' is used liberally here to apply to any symbols that surround text in order to apply emphasis or special meaning.

Here are the bold and italic quoted text forms that Asciidoctor recognizes:

[role="unstyled"]
*$$*Bold*$$*:: One asterisk (+*+) on either side of a word or phrase makes it bold.
'$$'Italic'$$':: Single quotes around a word or phrase makes it italic.
_$$_Italic_$$_:: One underscore (+_+) on either side of a word or phrase also makes it italic.
*_$$*_Bold italic_*$$_*:: Bold markup around a word or phrase in italic makes it bold italic.
_Reversing the order of the markup won't produce the same result_.

----
_italic phrase_ (or 'italic phrase')

__i__talic le__tt__ers

*bold phrase*

**b**old le**tt**ers

*_bold italic phrase_*

**__b__**old italic le**__tt__**ers
----

====
_italic phrase_ (or 'italic phrase')

__i__talic le__tt__ers

*bold phrase*

**b**old le**tt**ers

*_bold italic phrase_*

**__b__**old italic le**__tt__**ers
====

CAUTION: You may not always want these substitutions to take place.
In those cases, you'll need to use markup to <<preventing-substitutions,escape the text>>.

When you want to quote text (e.g., place emphasis) somewhere other than at the boundaries of a word, you need to double up the punctuation.
For instance, to emphasis the first letter of a word, you need to surround it in double asterisks:

[source]
**F**our score and seven years ago...

The double punctuation applies for all types of quoted text except smart quotes, subscript and superscript.

=== Smart quotes

[role="unstyled"]
Single $$`smart quotes'$$:: One leading backtick (++$$`$$++) and one trailing single quote (++$$'$$++) around a word or phrase encloses it in single `smart quotes'.
Double $$``smart quotes''$$:: Two leading backticks (++$$``$$++) and two trailing single quotes (++''++) around a word or phrase encloses it in double ``smart quotes''.

----
`single smart quotes'

``double smart quotes''
----

====
`single smart quotes'

``double smart quotes''
====

=== Superscript and subscript

[role="unstyled"]
^$$^Superscript^$$^:: One caret (+^+) on either side of a word or phrase makes it superscript.
~$$~Subscript~$$~:: One tilde (+~+) on either side of a word or phrase makes it subscript.

----
^superscript phrase^

e = mc^2^

~subscript phrase~

H~2~O
----

====
^superscript phrase^

e = mc^2^

~subscript phrase~

H~2~O
====

=== Monospace

[role="unstyled"]
+$$+Monospace+$$+:: One plus (`+`) on either side of a word or phrase makes it monospaced (i.e., constant width).
+*$$+*Monospace bold*+$$*+:: Monospace markup around a word or phrase in bold makes it monospace bold.
+_$$+_Monospace italic_+$$_+:: Monospace markup around a word or phrase in italic makes it monospace italic.
_Reversing the order of the markup won't produce the same result_.

----
+monospace phrase+ and le++tt++ers

+_monospace italic phrase_+ and le++__tt__++ers

+*monospace bold phrase*+ and le++**tt**++ers

+*_monospace bold italic phrase_*+ and le++**__tt__**++ers

`inline literal passthrough` (monospace text without substitutions)
----

====
+monospace phrase+ and le++tt++ers

+_monospace italic phrase_+ and le++__tt__++ers

+*monospace bold phrase*+ and le++**tt**++ers

+*_monospace bold italic phrase_*+ and le++**__tt__**++ers

`inline literal passthrough` (monospace text without substitutions)
====

=== Custom styling with attributes

Any quoted text can be prefixed with an attribute list.
The first positional attribute is treated as a role.
The role can be used to apply custom styling to the text.
For instance:

[source]
Type the word [userinput]#asciidoc# into the search bar.

When rendering to HTML, the word ``asciidoc'' is wrapped in +<span>+ tags and the role is used as the element's CSS class:

[source,html]
<span class="userinput">asciidoc</span>

You can apply styles to the text using CSS.

[role="unstyled"]
$$#Open style#$$:: One hash (+#+) on either side of a word or phrase makes it possible to assign it a role (i.e., CSS class).

----
[small]#phrase styled by CSS class .small#

[big]##O##nce upon a time...
----

====
[small]#phrase styled by CSS class .small#

[big]##O##nce upon a time...
====

== Literal

Literal blocks display text exactly as it is entered (i.e., verbatim).
The text will not be formatted nor will any attributes included in the text other than special characters and callouts be executed.

Literal blocks are defined three ways:

. Indenting the first line of a paragraph by 1 or more spaces
. Applying the +literal+ attribute 
. Using the +....+ line delimiter

.Implicit
----
 This text will be displayed exactly as I enter it.
----

.Literal paragraph
----
[literal]
This text will be displayed exactly as I enter it.
----

.Literal delimited block
----
....
This text will be displayed exactly as I enter it.
....
----

Literal blocks don't receive the full set of substitutions normally applied to a paragraph.

== Verse

A verse block preserves line breaks and styles any added author and title text.

Verses are defined by the +verse+ attribute or the +____+ line delimiter.

.Verse paragraph
----
[verse, attribution pa, citetitle pa]
Poetry here
----

.Verse delimited block
----
____
Poetry here
____
----

== Quote

Block quotes have three parts (quoted text, attribution and source):

----
[quote,  attribution pa, citetitle pa]
----

.Quote paragraph
----
[quote, attribution pa, citetitle pa]
Quote here
----

.Quote delimited block
[source]
----
[quote, Thomas Jefferson, Papers of Thomas Jefferson: Volume 11]
____
I hold it that a little rebellion now and then is a good thing,
and as necessary in the political world as storms in the physical.
____
----

Asciidoctor also provides three alternative ways to markup quotes.

=== Quoted paragraph

You can turn a single paragraph into a blockquote by:

a. surrounding it with double quotes
b. adding an optional attribution (prefixed with two dashes) below the quoted text.

[source]
----
"I hold it that a little rebellion now and then is a good thing,
and as necessary in the political world as storms in the physical."
-- Thomas Jefferson, Papers of Thomas Jefferson: Volume 11
----

Here's the result of the abbreviated blockquote syntax:

"I hold it that a little rebellion now and then is a good thing,
and as necessary in the political world as storms in the physical."
-- Thomas Jefferson, Papers of Thomas Jefferson: Volume 11

=== Air quotes

{air-ref}[Air quotes^] are two double quotes on each line, emulating the gesture of making quote marks with two fingers on each hand.

[source]
----
[, Richard M. Nixon]
""
When the President does it, that means that it's not illegal.
""
----

=== Markdown-style blockquotes

Asciidoctor supports Markdown-style blockquotes:

[source]
----
> I hold it that a little rebellion now and then is a good thing,
> and as necessary in the political world as storms in the physical.
> -- Thomas Jefferson, Papers of Thomas Jefferson: Volume 11
----

This markup renders the same as the example above.

Like Markdown, Asciidoctor supports block content inside the blockquote, including nested blockquotes:

[source,markdown]
.Markdown-style blockquote containing block content
....
> > What's new?
>
> I've got Markdown in my AsciiDoc!
>
> > Like what?
>
> * Blockquotes
> * Headings
> * Fenced code blocks
>
> > Is there more?
>
> Yep. AsciiDoc and Markdown share a lot of common syntax already.
....

Here's how this conversation renders:

> > What's new?
>
> I've got Markdown in my AsciiDoc!
>
> > Like what?
>
> * Blockquotes
> * Headings
> * Fenced code blocks
>
> > Is there more?
>
> Yep. AsciiDoc and Markdown share a lot of common syntax already. Just try it.

== Admonition

There are certain statements that you might want to draw attention to by taking them out of the flow and labeling them with a priority.
These are called admonition blocks.

Asciidoctor provides five admonition labels:

* Tip
* Note
* Important
* Warning
* Caution

Admonitions are created either by prefixing the label to a paragraph or applying the label as a style attribute to a delimited block.

.Admonition paragraph
----
NOTE: The label must be UPPERCASE. 
----

.Admonition block
[source]
----
[NOTE]
==== <1>
This is an example of an admonition block.

Unlike an admonition paragraph, it may contain any AsciiDoc content.
The style can be any one of the admonition labels:

* NOTE
* TIP
* WARNING
* CAUTION
* IMPORTANT
====
----
<1> This is an example block acting as an admonition.

An admonition is rendered in a callout box with the admonition label--or its corresponding icon--in the gutter.
Icons are enabled by setting the +icons+ attribute on the document.

== Sidebar

.Sidebar
----
.AsciiDoc history
****
AsciiDoc was first released in Nov 2002 by Stuart Rackham.
It was designed from the start to be a shorthand syntax
for producing professional documents like DocBook and LaTeX.
****
----

====
.AsciiDoc history
****
AsciiDoc was first released in Nov 2002 by Stuart Rackham.
It was designed from the start to be a shorthand syntax
for producing professional documents like DocBook and LaTeX.
****
====

== Example

.Example
----
.Sample document
====
Here's a sample AsciiDoc document:

[listing]
....
= AsciiDoc Writer's Guide
Dan Allen
:toc:

This guide provides...
....

The document header is useful, but not required.
====
----

--
.Sample document
====
Here's a sample AsciiDoc document:

[listing]
....
= AsciiDoc Writer's Guide
Dan Allen
:toc:

This guide provides...
....

The document header is useful, but not required.
====
--

== Listing and Source Code Blocks

You've already seen many examples of the listing block (i.e., code block), which is surrounded by lines with four hyphens.
Since a listing block is typically used for source code, substitutions are not desirable.

[source]
....
----
This is an example of a _listing block_.
The content inside is rendered as <pre> text.
----
....

Here's how the block above appears when rendered as HTML:

....
This is an example of a _listing block_.
The content inside is rendered as <pre> text.
....

You should notice a few things about how the content is processed:

* the HTML tag +<pre>+ is escaped
* then endlines are preserved
* the phrase ``listing block'' is not italicized, despite having underscores around it.

[listing]
.Custom substitutions
....
:version: 0.1.3

[source,xml]
[subs="verbatim,attributes"]
----
<dependency>
  <groupId>org.asciidoctor</groupId>
  <artifactId>asciidoctor-java-integration</artifactId>
  <version>{version}</version>
</dependency>
----
....

=== To wrap or to scroll

Previously, the Asciidoctor stylesheet was configured to prevent line wrapping (e.g., +white-space: pre-wrap; word-wrap: normal+) in listing and literal blocks.
This behavior isn't always desirable because it causes the browser window to scroll if the content overflows the width of the page.
For many, this horizontal scrolling is considered a greater readability problem than line wrapping.

Since there are two camps on this preference, neither setting will please both.
For that reason, we've made this behavior configurable in Asciidoctor 0.1.4.

By default, the default Asciidoctor stylesheet now wraps long lines in listing and literal blocks by applying the CSS +white-space: pre-wrap+ and +word-wrap: break-word+.
The lines are wrapped at word boundaries, similar to how most text editors wrap lines.

There are two ways to prevent lines from wrapping so that horizontal scrolling is used instead:

* nowrap block option
* prewrap document attribute

You can use the +nowrap+ option on literal or listing blocks to prevent lines from being wrapped in the HTML:

```
[source, java, options="nowrap"]
----
public class ApplicationConfigurationProvider extends HttpConfigurationProvider
{
   @Override
   public Configuration getConfiguration(ServletContext context)
   {
      return ConfigurationBuilder.begin()
               .addRule()
               .when(Direction.isInbound().and(Path.matches("/{path}")))
               .perform(Log.message(Level.INFO, "Client requested path: {path}"))
               .where("path").matches(".*");
   }
}
----
```

When the +nowrap+ option is used, the +nowrap+ class is added to the +<pre>+ element.
This class changes the CSS to +white-space: pre+ and +word-wrap: normal+.

To apply the nowrap option globally, just set the +prewrap+ attribute on the document.

```
:prewrap:
```

When the +prewrap+ attribute is set, the +nowrap+ class is added to any +<pre>+ element even when the +nowrap+ option is absent.

Now, you can use the line wrapping strategy that works best for you and your readers.

=== Summary

NOTE: Pending

== Open Block

The most versatile block of all is the open block.
An open block can act as any other block, with the exception of _pass_ and _table_.
Here's an example of an open block acting as a sidebar:

//[source]
----
[sidebar]
.Related information
--
This is aside text.

It is used to present information related to the main content.
--
----

[sidebar]
.Related information
--
This is aside text.

It is used to present information related to the main content.
--

.Open
----
--
An open block can be an anonymous container,
or it can masquerade as any other block.
--

[source]
--
puts "I'm a source block!"
--
----

====
--
An open block can be an anonymous container,
or it can masquerade as any other block.
--

[source]
--
puts "I'm a source block!"
--
====

== Passthrough blocks

The "anything goes" mechanism in AsciiDoc is the passthrough block.
As its name implies, this block passes its contents through directly to the output document.
When you've encountered a complex requirement that you can meet using the AsciiDoc syntax, just put the output you want inside a passthrough block.

[source]
----
++++
<video poster="images/movie-reel.png">
  <source src="videos/writing-zen.webm" type="video/webm">
</video>
++++
----

WARNING: Using a passthrough block couples your document to a specific output format, such as HTML.
You can use conditional inclusion macros to declare passthrough markup for each of the backends you nee to support.

The block style can be used in the absense of block delimiters to promote a paragraph to a block element.

== Comments

.Line
----
// A single-line comment.
----

TIP: Single-line comments can be used to divide elements, such as two adjacent lists.

.Block
----
////
A multi-line comment.

Notice it's a delimited block.
////
----

== Ordered List

Sometimes, we need to number the items in a list.
Instinct might tell you to prefix each item with a number, like in this next list:

[source]
----
1. Protons
2. Electrons
3. Neutrons
----

Since the numbering is obvious, the AsciiDoc processor will insert the numbers for you if you omit them:

[source]
----
. Protons
. Electrons
. Neutrons
----

=== Nested

You create a nested item by using one or more dots in front of each the item:

[source]
----
. Lists
.. Outline
... Unordered
... Ordered
.. Labeled
. Titles
.. Document
.. Section
.. Block
----

[TIP]
====
Like with the asterisks in an unordered list, the number of dots in an ordered list doesn't represent the nesting level.
However, it's much more intuitive to follow this convention:

[quote]
# of dots = level of nesting

Again, we are shooting for plain text markup that is readable _as is_.
====

AsciiDoc selects a different number scheme for each level of nesting.
Here's how the previous list renders:

.A nested ordered list
====
. Lists
.. Outline
... Unordered
... Ordered
.. Labeled
. Titles
.. Document
.. Section
.. Block
====

=== Title

You can give a list a title by prefixing the line with a dot immediately followed by the text (without leaving any space after the dot).

Here are examples of two lists with titles:

[source]
----
.Shopping list
* Milk
* Eggs
* Bread

.Parts of an atom
. Protons
. Electrons
. Neutrons
----

=== Numbering styles

For ordered lists, Asciidoctor supports the numeration styles such as lowergreek and decimal-leading-zero.

The full list of numeration styles that can be applied to an ordered list are as follows:

[cols="2,3", width="50%"]
.Asciidoctor ordered list numeration styles
|===
|Block style |CSS list-style-type

|arabic
|decimal

s|decimal{ast}
s|decimal-leading-zero

|loweralpha
|lower-alpha

|upperalpha
|upper-alpha

|lowerroman
|lower-roman

|upperroman
|upper-roman

s|lowergreek{ast}
s|lower-greek
|===
{ast} New in Asciidoctor 0.1.4. These two styles are only supported in the HTML backend.

Here are a few examples showing various numeration styles as defined by the block style shown in the header row:

|===
|[arabic]{ast} |[decimal] |[loweralpha] |[lowergreek]

a|
. one
. two
. three

a|
[decimal]
. one
. two
. three

a|
[loweralpha]
. one
. two
. three

a|
[lowergreek]
. one
. two
. three
|===

{ast} Default numeration if block style is not specified

TIP: Custom numeration styles can be implemented using a custom role.
Define a new class selector (e.g., +.custom+) in your stylesheet that sets the +list-style-type+ property to the value of your choice.
Then, assign the name of that class as a role on any list to which you want that numeration applied.

When the role shorthand (+.custom+) is used on an ordered list, the numeration style is no longer omitted.

You can override the number scheme for any level by setting its style (the first positional entry in a block attribute list).
You can also set the starting number using the +start+ attribute:

[source]
----
["lowerroman", start=5]
. Five
. Six
[loweralpha]
.. a
.. b
.. c
. Seven
----

=== Summary

NOTE: Pending

== Unordered List

If you were to create a list of items in an e-mail, how would you do it?
Chances are, what you'd type is exactly how you define an outline list in AsciiDoc.

Here's an example of a grocery list written as an unordered list in AsciiDoc:

[source]
----
* Milk
* Eggs
* Bread
* Bananas
----

Was your instinct to use a hyphen instead of an asterisk?
Guess what?
That works too:

[source]
----
- Milk
- Eggs
- Bread
- Bananas
----

TIP: You are free to indent the list however it suits you.

IMPORTANT: The item's first line of text must be offset from the marker by at least one space.

What if you wanted to group the grocery list by aisle?
Then you might organize it as a nested list.

=== Nested

To get a nested item, just add another asterisk in front of the item:

[source]
----
* Diary
** Milk
** Eggs
* Bakery
** Bread
* Produce
** Bananas
----

You can have up to five levels of nesting:

[source]
----
* Kingdom
** Phylum
*** Class
**** Order
***** Family
----

The hyphen doesn't work for nested lists since repeating hyphens are used for other purposes in AsciiDoc.

[TIP]
====
Since a hyphen only works for a single level nesting in an AsciiDoc list, I recommend reserving the hyphen for lists that only have a single level:

[source]
.List without nested items
----
- Fedora
- Ubuntu
- Slackware
----

For lists that have more than one level, use asterisks:

[source]
.List with nested items
----
* Linux
** Fedora
** Ubuntu
** Slackware
* BSD
** FreeBSD
** NetBSD
----

While it would seem as though the number of asterisks represents the nesting level, that's not how depth is determined.
A new level is created for each unique marker encountered.
However, it's much more intuitive to follow this convention:

[quote]
# of asterisks = level of nesting

After all, we are shooting for plain text markup that is readable _as is_.
====

=== Custom markers

Asciidoctor 0.1.4 offers additional bullet options for lists.
The list marker (bullet) is set using the list's block style. 

The unordered list marker can be set using any of the following block styles:

* square
* circle
* disc
* none or no-bullet (indented, but no bullet)
* unstyled (no indentation or bullet) (HTML only)

NOTE: These styles are supported by the default Asciidoctor stylesheet.

When present, the style name is assigned to the unordered list element as follows:

For HTML:: the style name is assigned to the +class+ attribute on the +<ul>+ element.
For DocBook:: the style name is assigned to the +mark+ attribute on the +<itemizedlist>+ element.

Here's an unordered list that has square bullets:

----
[square]
* one
* two
* three
----

====
[square]
* one
* two
* three
====

=== Checklists

List items can be marked complete using checklists.

Checklists (i.e., task lists) are unordered lists that have items marked as checked (+[*]+ or +[x]+) or unchecked (+[ ]+).
Here's an example:

.Checklist
----
- [*] checked
- [x] also checked
- [ ] not checked
-     normal list item
----

====
- [*] checked
- [x] also checked
- [ ] not checked
-     normal list item
====

TIP: Not all items in the list have to be checklist items, as the previous example shows.

When checklists are rendered to HTML, the checkbox markup is transformed into an HTML checkbox with the appropriate checked state.
The +data-item-complete+ attribute on the checkbox is set to 1 if the item is checked, 0 if not.
The checkbox is used in place of the item's bullet.

Since HTML generated by Asciidoctor is usually static, the checkbox is set as disabled to make it appear as a simple mark.
If you want to make the checkbox interactive (i.e., clickable), add the +interactive+ option to the checklist:

.Checklist with interactive checkboxes
----
[options=interactive]
- [*] checked
- [x] also checked
- [ ] not checked
-     normal list item
----

As a bonus, if you enable font-based icons, the checkbox markup (in non-interactive lists) is transformed into a font-based icon!

.Checklist with font-based checkboxes
----
:icons: font

- [*] checked
- [x] also checked
- [ ] not checked
-     normal list item
----

=== Summary

NOTE: Pending

== Labeled List

Labeled lists are useful when you need to include a description or supporting text for each item in a list.
Each item in a labeled list consists of a term or phrase followed by:

* a separator (typically a double colon, +::+)
* at least one space or endline
* the item's content

Here's an example of a labeled list that identifies parts of a computer:

[source]
----
CPU:: The brain of the computer.
Hard drive:: Permanent storage for operating system and/or user files.
RAM:: Temporarily stores information the CPU uses during operation.
Keyboard:: Used to enter text or control items on the screen.
Mouse:: Used to point to and select items on your computer screen.
Monitor:: Displays information in visual form using text and graphics.
----

By default, the content of each item is displayed below the label when rendered.
Here's a preview of how this list is rendered:

.A basic labeled list
====
CPU:: The brain of the computer.
Hard drive:: Permanent storage for operating system and/or user files.
RAM:: Temporarily stores information the CPU uses during operation.
Keyboard:: Used to enter text or control items on the screen.
Mouse:: Used to point to and select items on your computer screen.
Monitor:: Displays information in visual form using text and graphics.
====

If you want the label and content to appear on the same line, add the horizontal style to the list.

[source]
----
[horizontal]
CPU:: The brain of the computer.
Hard drive:: Permanent storage for operating system and/or user files.
RAM:: Temporarily stores information the CPU uses during operation.
----

[horizontal]
CPU:: The brain of the computer.
Hard drive:: Permanent storage for operating system and/or user files.
RAM:: Temporarily stores information the CPU uses during operation.

The content of a labeled list can be any AsciiDoc element.
For instance, we could rewrite the grocery list from above so that each aisle is a label rather than a parent outline list item.

[source]
----
Diary::
* Milk
* Eggs
Bakery::
* Bread
Produce::
* Bananas
----

Labeled lists are quite lenient about whitespace, so you can spread the items out and even indent the content if that makes it more readable for you:

//[source]
----
Diary::

  * Milk
  * Eggs

Bakery::

  * Bread

Produce::

  * Bananas
----

=== Question and answer style

.Q&A
----
[qanda]
What is Asciidoctor?::
  An implementation of the AsciiDoc processor in Ruby.
What is the answer to the Ultimate Question?:: 42
----

====
[qanda]
What is Asciidoctor?::
  An implementation of the AsciiDoc processor in Ruby.
What's the answer to the Ultimate Question?:: 42
====

=== Summary

NOTE: Section pending

== Hybrid Lists

You can mix and match the three list types within a single hybrid list.
AsciiDoc works hard to infer the relationships between the items that are most intuitive to us humans.

Here's an example of nesting an unordered list inside of an ordered list:

[source]
----
. Linux
* Fedora
* Ubuntu
* Slackware
. BSD
* FreeBSD
* NetBSD
----

Again, you can spread the items out and indent the nested lists if that makes it more readable for you:

//[source]
----
. Linux

  * Fedora
  * Ubuntu
  * Slackware

. BSD

  * FreeBSD
  * NetBSD
----

Here's a list that mixes all three types of lists:

//[source]
----
Operating Systems::
  . Linux
    * Fedora
    * Ubuntu
    * Slackware
  . BSD
    * FreeBSD
    * NetBSD
Cloud Providers::
  . PaaS
    * OpenShift
    * CloudBees
  . IaaS
    * Amazon EC2
    * Rackspace
----

Here's how the list is rendered:

.A hybrid list
====
Operating Systems::
  . Linux
    * Fedora
    * Ubuntu
    * Slackware
  . BSD
    * FreeBSD
    * NetBSD
Cloud Providers::
  . PaaS
    * OpenShift
    * CloudBees
  . IaaS
    * Amazon EC2
    * Rackspace
====

You can include more complex content in a list item as well.

=== Complex list content

Aside from nested lists, all of the list items you've seen only have one line of text.
A list item can hold any type of AsciiDoc content, including paragraphs, listing blocks and even tables.
You just need to ``attach'' them to the list item.

Like with regular paragraph text, the text in a list item can wrap across any number of lines, as long as all the lines are adjacent.
The wrapped lines can be indented and they will still be treated as normal paragraph text.
For example:

//[source]
----
* The header in AsciiDoc is optional, but if
it is used it must start with a document title.

* Optional Author and Revision information
immediately follows the header title.

* The document header must be separated from
  the remainder of the document by one or more
  blank lines and cannot contain blank lines.
----

TIP: When items contain more than one line of text, leave a blank line before the next item to make the list easier to read.

If you want to attach additional paragraphs to a list item, you ``add'' them together using a _list continuation_.
A list continuation is a +$$+$$+ symbol on a line by itself, immediately adjacent to the two blocks it's connecting.
Here's an example:

//[source]
----
* The header in AsciiDoc must start with a
  document title.
+
The header is optional.

* Optional Author and Revision information
  immediately follows the header title.
----

Using the list continuation, you can attach any type of block element and you can use the list continuation any number of times in a single list item.

Here's an example that attaches both a listing block and an admonition paragraph to the first item:

//[source]
....
* The header in AsciiDoc must start with a
  document title.
+
----
= Document Title
----
+
NOTE: The header is optional.

* Optional Author and Revision information
  immediately follows the header title.
+
----
= Document Title
Doc Writer <doc.writer@asciidoc.org>
v1.0, 2013-01-01
----
....

Here's how the source is rendered:

.A list with complex content
====
* The header in AsciiDoc must start with a
  document title.
+
----
= Document Title
----
+
NOTE: The header is optional.

* Optional Author and Revision information
  immediately follows the header title.
+
----
= Document Title
Doc Writer <doc.writer@asciidoc.org>
v1.0, 2013-01-01
----
====

=== Dividing lists

If you have adjacent lists, they have the tendency to want to fuse together.
To force the lists apart, place a line comment between them, offset on either side by a blank line (i.e., an end of list marker).
Here's an example:

[source]
----
* Apples
* Oranges
* Bananas

//^

* Walnuts
* Almonds
* Cashews
----

== Tables

Tables are one of the most refined areas of the AsciiDoc syntax.
They are easy to create, easy to read in raw form and also remarkably sophisticated.

Tables are delimited by +|===+ and made up of cells.
The default table data format is +psv+ (Prefix Separated Values), which means that the processor creates a new cell each time it encounters a vertical bar (+|+).
The cells are grouped into rows.
Each row must share the same number of cells, taking into account any <<cell-specifiers,column or row spans>>.
Then, each consecutive cell in a row is placed in a separate column.
The simple table example below consists of two columns and three rows.

.Simple table
[source]
----
|=== <1>
<2>
| Cell in column 1, row 1 | Cell in column 2, row 1  <3> 
<4>
| Cell in column 1, row 2 | Cell in column 2, row 2

| Cell in column 1, row 3 | Cell in column 2, row 3

|=== <1>
----
<1> The table's content boundaries are defined by a vertical bar followed by three equal signs (+|===+).
<2> A blank line separates the table delimiter and the first row so the first row is not styled as the table's header.
<3> The new cell is marked by a vertical bar (+|+).
<4> Rows are separated by blank lines.

.Result: Rendered simple table
[width="90"]
|===

| Cell in column 1, row 1 | Cell in column 2, row 1

| Cell in column 1, row 2 | Cell in column 2, row 2

| Cell in column 1, row 3 | Cell in column 2, row 3

|===

The leading and trailing spaces around the content in a cell are stripped; therefore, they don't affect the table's layout when it is rendered.
The two examples below illustrate how leading and trailing spaces don't change the rendered table's layout.

.Cell content adjacent to the +|+
[source]
----
|===

|Cell in column 1, row 1|Cell in column 2, row 1

|===
----

.Result: Rendered table when cell content was entered adjacent to the +|+
[width="90"]
|===

|Cell in column 1, row 1|Cell in column 2, row 1

|===

.Cell content with varying leading and trailing spaces
[source]
----
|===

| Cell in column 1, row 1        |          Cell in column 2, row 1

|===
----

.Result: Rendered table when cell content was bounded by varying leading and trailing spaces
[width="90"]
|===

| Cell in column 1, row 1        |          Cell in column 2, row 1

|===

There are multiple ways to group cells into a row.
The cells in a row can be placed on:

[loweralpha]
. the same line
. consecutive, individual lines
. a combination of a and b

.Cells on the same line
----
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

|Cell in column 1, row 2 |Cell in column 2, row 2 |Cell in column 3, row 2

|===
----

.Result: Rendered table when multiple cells where entered on the same line
[width="90"]
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

|Cell in column 1, row 2 |Cell in column 2, row 2 |Cell in column 3, row 2

|===

When the cells of a row are individually entered on consecutive lines, the +cols+ attribute is needed to specify the number of columns in the table.
If the +cols+ attribute is not set, the first non-blank line inside the block delimiter (+|===+) determines the number of columns.

.Cells on consecutive, individual lines
----
[cols="3*"] <1>
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----
<1> The +cols+ attribute states that this table has three columns. The +*+ is a repeat operator which is explained in the <<column-specifiers>> section below.

.Result: Rendered table when cells where listed on consecutive, individual lines
[width="90"]
[cols="3*"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

Rows can be formed from adjacent lines of individual cells and cells listed on the same line.

.Cells on the same line and individual lines
----
[cols="3*"]
|===
|Cell in column 1, row 1 |Cell in column 2, row 1 
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2 |Cell in column 3, row 2
|===
----

.Result: Cells on the same line and individual lines
[width="90"]
[cols="3*"]
|===
|Cell in column 1, row 1 |Cell in column 2, row 1 
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2 |Cell in column 3, row 2
|===

The next sections describe and demonstrate the variety of ways you can customize table cells, rows and columns.

=== Columns

The number of columns in a table is determined by the number of cells found in the first non-blank line after the table delimiter (+|===+) or by the values assigned to the +cols+ attribute.

For example, the syntax in the two examples below will both render a table with two columns.

----
|===

|Cell in column 1, row 1 |Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2

|===
----

.Result: Rendered table with two columns as defined by the number of cells in the first row
[width="90"]
|===

|Cell in column 1, row 1 |Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2

|===

----
[cols="2*"]
|===

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2

|===
----

.Result: Rendered table with two columns as defined by the +cols+ attribute
[width="90"]
[cols="2*"]
|===

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2

|===

When a single number is assigned to the +cols+ attribute, its value indicates the number of columns.
Each column will be the same width.
However, the number of columns can also be assigned as a comma delimited list.
The number of entries in the list determines the number of columns.

The comma delimited list below creates a table with four columns of equal width.

 [cols="1,1,1,1"]

This syntax provides that same result:

 [cols="4*"]

Now, let's talk about that asterisk in the syntax above.

=== Column specifiers

The AsciiDoc syntax provides a variety of ways to control the size, style and layout of content within columns.
These *specifiers* can be applied to whole columns.

To apply a specifier to a column, you must set the +cols+ attibute and assign it a value.
A column specifier can contain any of the following components:

* multiplier
* align
* width
* style

Each component is optional.

The multiplier operator (+*+) is used when you want a specifier to apply to more than one consecutive column.
If used, the multiplier must always be placed at the beginning of the specifier.

For example:

----
[cols="3*"] <1>
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----
<1> The table will consist of three columns, as indicated by the *3*. The +*+ operator ensures that the default layout and style will be applied to all of the columns.

.Result: Rendered table with multiplier applied
[width="90"]
[cols="3*"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

[[column-align]]
The alignment component allows you to horizontally or vertically align a column's content.
Content can be horizontally aligned left (+<+), center (+^+), or right (+>+).

To horizontally center the content in all of the columns, add the +^+ operator after the multiplier.

----
[cols="3*^"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Rendered table with horizontal, center alignment applied to all columns
[width="90"]
[cols="3*^"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

What if you only want to center the content in the last column?
Assign the default styles to the preceeding columns, and +^+ to the last column in a comma separated list.

----
[cols="2*,^"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Rendered table with horizontal, center alignment applied to last column
[width="90"]
[cols="2*,^"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

Let's specify a different horizontal alignment for each column.

----
[cols="<,^,>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Rendered table with a different horizontal alignment for each column
[width="90"]
[cols="<,^,>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

You'll notice that the content in the examples above is only centered on the horizontal.
It can also be aligned vertically when the alignment operator is prefixed with a dot (+.+).
Content can be vertically aligned to the top (+<+), middle (+^+), or bottom (+>+) of a cell.

To vertically align the content to the middle of the cells in all of the columns, add a +.+ and then the +^+ operator after the multiplier.

----
[cols="3*.^"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Rendered table with vertical, middle alignment applied to all columns
[width="90"]
[cols="3*.^"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

If you only want to align the content to the bottom of each cell in the last column, you'd assign the default styles to the preceeding columns, and +>+ to the last column in a comma separated list.

----
[cols="2*,.>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Rendered table with vertical, bottom alignment applied to last column
[width="90"]
[cols="2*,.>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

Let's specify a different vertical alignment for each column.

----
[cols=".<,.^,.>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Rendered table with a different vertical alignment for each column
[width="90"]
[cols=".<,.^,.>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

Finally, we'll also horizontally center the content in the last column.

----
[cols=".<,.^,^.>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Rendered table with a different vertical alignment for each column and horizontal, center alignment in the last column
[width="90"]
[cols=".<,.^,^.>"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

When both a horizontal and vertical aligment is assigned to a column, the horizontal alignment operator must preceed the vertical operator.

The width component sets the width of a column.
Its value can be a proportional integer (the default is 1) or a precentage (1 to 99).

----
[cols="1,2,6"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Table rendered with column sizes adjusted by a proportional integer
[cols="1,2,6"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

When assigning percentage values to the +cols+ attribute, you do not need to include the percent sign (+%+).

----
[cols="50,20,30"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Table rendered with column sizes adjusted by a percentage
[cols="50,20,30"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

Let's create a table with custom widths and alignments.

----
[cols=".<2,.^5,^.>3"]
|===
|Cell in column 1, row 1 with lots and lots and lots and lots of content
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2 and another bucket of content, and then a jelly roll of content
|===
----

.Result: Rendered table with variable widths and alignments
[cols=".<2,.^5,^.>3"]
|===
|Cell in column 1, row 1 with lots and lots and lots and lots of content
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2 and another bucket of content, and then a jelly roll of content
|===

[[column-style]]
The style component must always be located at the end of the specifier.
When no style name is provided column contents will be processed as regular inline text.

The column styles are described in the table below.

[cols="20,30,50"]
|===
|Style Name |Value |Description

|AsciiDoc
|+a+ or +asciidoc+
|Any document section elements may be contained within the column. The elements will be processed and rendered

|Emphasis
|+e+ or +emphasis+
|Text is italicized

|Header
|+h+ or +header+
|Header styles are applied to the column

|Literal
|+l+ or +literal+
|Column content is treated as if it were inside a literal block

|Monospaced
|+m+ or +monospaced+
|Text is rendered in monospaced font

|Strong
|+s+ or +strong+
|Text is bolded

|Verse
|+v+ or +verse+
|Column content is treated as if it were inside a verse block
|===

Let's apply the header style to the first column, the monospaced style to the second, the strong style to the third, and the empasis style to the fourth.
 
----
[cols="h,m,s,e"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1
|Cell in column 4, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|Cell in column 4, row 2
|===
----

.Result: Rendered table with a header, monospaced, and strong styled column
[width="90"]
[cols="h,m,s,e"]
|===
|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1
|Cell in column 4, row 1

|Cell in column 1, row 2
|Cell in column 2, row 2
|Cell in column 3, row 2
|Cell in column 4, row 2
|===

Specifiers can also be applied to individual cells.

=== Cell specifiers

In addition to sharing many of the column specifier capabilities, cell specifiers allow cells to span rows and columns.
Like a column specifier, a cell specifier is made up of components.
These components, listed and defined below, are all optional.

* span
* align
* style

A cell specifier is prefixed directly to the cell delimiter (+|+) preceeding the content you want to customize.

The span component can duplicate a cell or have it span multiple rows or columns.

To duplicate a cell in multiple, consecutive columns, prefix the +|+ with the multiplication factor and the +*+ operator.

.Cell duplicated across three columns
----
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

3*|Same cell content in columns 1, 2, and 3

|Cell in column 1, row 3 
|Cell in column 2, row 3
|Cell in column 3, row 3

|===
----

.Result: Rendered table where cell was duplicated across three columns
[width="90"]
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

3*|Same cell content in columns 1, 2, and 3

|Cell in column 1, row 3 
|Cell in column 2, row 3
|Cell in column 3, row 3

|===

To have a cell span multiple, consecutive columns, prefix the +|+ with the span factor and the +++ operator.

.Cell spanning three columns
----
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

3+|Content in a single cell that spans columns 1, 2, and 3

|Cell in column 1, row 3 
|Cell in column 2, row 3
|Cell in column 3, row 3

|===
----

.Result: Rendered table where cell spans three columns
[width="90"]
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

3+|Content in a single cell that spans columns 1, 2, and 3

|Cell in column 1, row 3 
|Cell in column 2, row 3
|Cell in column 3, row 3

|===

If you want to have a cell span multiple, consecutive rows, prefix the span factor with a dot (+.+).

.Cell spanning two rows
----
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

.2+|Content in a single cell that spans rows 2 and 3
|Cell in column 2, row 2
|Cell in column 3, row 2

|Cell in column 2, row 3
|Cell in column 3, row 3

|===
----

.Result: Rendered table where a cell spans two rows
[width="90"]
|===

|Cell in column 1, row 1 |Cell in column 2, row 1 |Cell in column 3, row 1

.2+|Content in a single cell that spans rows 2 and 3
|Cell in column 2, row 2
|Cell in column 3, row 2

|Cell in column 2, row 3
|Cell in column 3, row 3

|===

The alignment component for cells works the same as the <<column-align,column specifier alignment component>>.

.Cells aligned horizontally, vertically, and acrossed a span of three columns
----
[cols="3"]
|===
^|Prefix the +{brvbar}+ with +{caret}+ to center content horizontally
<|Prefix the +{brvbar}+ with +{lt}+ to align the content to the left horizontally
>|Prefix the +{brvbar}+ with +{gt}+ to align the content to the right horizontally

.^|Prefix the +{brvbar}+ with a +.+ and +{caret}+ to center the content in the cell vertically
.<|Prefix the +{brvbar}+ with a +.+ and +{lt}+ to align the content to the top of the cell
.>|Prefix the +{brvbar}+ with a +.+ and +{gt}+ to align the content to the bottom of the cell

3+^.^|This content spans three columns (+3{plus}+) and is centered horizontally (+{caret}+) and vertically (+.{caret}+) within the cell.

|===
----

.Result: Rendered cells aligned horizontally, vertically, and acrossed a span of three columns
[width="90"]
[cols="3"]
|===
^|Prefix the +{brvbar}+ with +{caret}+ to center content horizontally
<|Prefix the +{brvbar}+ with +{lt}+ to align the content to the left horizontally
>|Prefix the +{brvbar}+ with +{gt}+ to align the content to the right horizontally

.^|Prefix the +{brvbar}+ with a +.+ and +{caret}+ to center the content in the cell vertically
.<|Prefix the +{brvbar}+ with a +.+ and +{lt}+ to align the content to the top of the cell
.>|Prefix the +{brvbar}+ with a +.+ and +{gt}+ to align the content to the bottom of the cell

3+^.^|This content spans three columns (+3{plus}+) and is centered horizontally (+{caret}+) and vertically (+.{caret}+) within the cell.

|===

TIP: To use a pipe (+|+) within the content of a cell without creating a new cell, you must use the +$${brvbar}$$+ attribute.

The <<column-style,style component>> can also be applied to individual cells.
For example, you can apply the AsciiDoc element styles to an individual cell by prefixing the vertical bar with an +a+.

.Comparing cells using AsciiDoc styles and no AsciiDoc styles
----
[cols="2"]
|===

a|This cell is prefixed with an +a+ so the following list is rendered with the AsciiDoc list element styles.

* List item 1
* List item 2
* List item 3
|This cell *is not* prefixed with an +a+ so the following list is not rendered with the AsciiDoc list element styles.

* List item 1
* List item 2
* List item 3

a|This cell is prefixed with an +a+ so the following paragraph is rendered with the +lead+ style.

[.lead]
I am a paragraph styled with the lead attribute.
|This cell *is not* prefixed with an +a+ so the following paragraph is not rendered with the +lead+ style.

[.lead]
I am a paragraph styled with the lead attribute.

|===
----

.Result: Rendered table comparing cells using AsciiDoc styles and no AsciiDoc styles
[width="90"]
[cols="2"]
|===

a|This cell is prefixed with an +a+ so the following list is rendered with the AsciiDoc list element styles.

* List item 1
* List item 2
* List item 3
|This cell *is not* prefixed with an +a+ so the following list is not rendered with the AsciiDoc list element styles.

* List item 1
* List item 2
* List item 3

a|This cell is prefixed with an +a+ so the following paragraph is rendered with the +lead+ style.

[.lead]
I am a paragraph styled with the lead attribute.
|This cell *is not* prefixed with an +a+ so the following paragraph is not rendered with the +lead+ style.

[.lead]
I am a paragraph styled with the lead attribute.

|===

For the grand finale, let's apply a variety of specifiers to individual cells.

.Building a variety of cell specifiers
----
|===

2*>m|This content is duplicated across two columns.
 
It is aligned right horizontally.

And it is monospaced.

.3+^.>s|This cell spans 3 rows. The content is centered horizontally, aligned to the bottom of the cell, and strong.
e|This content is emphasized.

.^l|This content is aligned to the top of the cell and literal.

v|This cell contains a verse 
that may one day expound on the 
wonders of tables in an 
epic sonnet.

|===
----

.Result: Rendered table featuring a variety of cell specifiers
[width="90"]
|===

2*>m|This content is duplicated across two columns.
 
It is aligned right horizontally.

And it is monospaced.

.3+^.>s|This cell spans 3 rows. The content is centered horizontally, aligned to the bottom of the cell, and strong.
e|This content is emphasized.

.^l|This content is aligned to the top of the cell and literal.

v|This cell contains a verse 
that may one day expound on the 
wonders of tables in an 
epic sonnet.

|===

=== Header row

The first row of a table can be rendered as a header row with the +header+ value.
The +header+ value is assigned by setting the +options+ attribute or based on the table's layout.

The +options+ attribute is set in the table's attribute list and assigned the value +header+ in the example below.

.Table with the +header+ value assigned to the +options+ attribute
[source]
----
[cols="2*", options="header"]
|===
|Name of Column 1
|Name of Column 2

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|===
----

.Result: Rendered table when the +header+ value is assigned to the +options+ attribute
[width="90"]
[cols="2*", options="header"]
|===
|Name of Column 1
|Name of Column 2

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|===

Alternatively, you can define the header row based on how you layout the table.
Asciidoctor 0.1.4 introduced the following conventions to determine when the first row should become the header row:

. The first line of content inside the table block delimiters is not empty.
. The second line of content inside the table block delimiters is empty.
. The +options+ attribute has not been specified in the block attributes.

As seen in the result of the example below, if all of these rules hold, then the first row of the table is treated as a header.

.Table that has an implicit header row
[source]
----
|===
|Name of Column 1 |Name of Column 2

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|===
----

.Result: Rendered table when the header row was assigned implicitly
[width="90"]
|===
|Name of Column 1 |Name of Column 2

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|===

Notice that when the implicit method of assigning the header row is used, it is not necessary to set the +cols+ attribute.

CAUTION: We're considering using a similar convention for enabling the footer in the future.
Thus, if you rely on this convention to enable the header row, it's advised that you not put all the cells in the last row on the same line unless you intend on making it the footer row.

=== Footer row

The last row of a table can be styled as a footer by assigning the +footer+ value to the +options+ attribute.

----
[options="header,footer"]
|===
|Name of Column 1 |Name of Column 2

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2

|Footer in column 1, row 3
|Footer in column 2, row 3
|===
----

.Result: Table rendered with a footer
[width="90"]
[options="header,footer"]
|===
|Name of Column 1 |Name of Column 2

|Cell in column 1, row 1
|Cell in column 2, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2

|Footer in column 1, row 3
|Footer in column 2, row 3
|===

TIP: Remember that when the +options+ attribute is set, and you want the first row of the table to be displayed as a header, you must assign the +header+ value.

=== Table lines, placement, and size

There are several attributes available for customizing the placement, size and lines of a table.

By the default a table will stretch to 100 percent of the page width.
To reduce the width of the table, set the width attribute in the table's attribute list.
The width value can be any number between 1 and 99.

.Table with width set to 65%
----
[width="65"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Render table with a width of 65%
[width="65"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

The border around a table can be changed by setting the +frame+ attribute.
By default, the +frame+ attribute is assigned the +all+ value, which draws a border on each side of the table.
If you set the frame attribute, you can override the default value with +topbot+, +sides+ or +none+.

The +topbot+ value draws a border on the top and bottom of the table.

----
[frame="topbot"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Table rendered with +topbot+ value
[width="90"]
[frame="topbot"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

The +sides+ value draws a border on the right and left side of the table.

----
[frame="sides"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Table rendered with +sides+ value
[width="90"]
[frame="sides"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

The +none+ value removes the borders around the table.

----
[frame="none"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===
----

.Result: Table rendered with +none+ value
[width="90"]
[frame="none"]
|===
|Name of Column 1 |Name of Column 2 |Name of Column 3

|Cell in column 1, row 1
|Cell in column 2, row 1
|Cell in column 3, row 1

|Cell in column 1, row 2 
|Cell in column 2, row 2
|Cell in column 3, row 2
|===

NOTE: At this time, Asciidoctor has not implemented the +float+, +align+, +halign+, +valign+, or +grid+ attibutes.

=== Data formats

Tables can be created from Comma Separated Values (CSV) and Delimiter Separated Values (DSV).
To use these type of datasets, set the +format+ attribute and assign it the +csv+ or +dsv+ value.
Tables using these alternate data formats are structured and formatted exactly like +psv+ tables, the data separators are just different.

When the format is set to +csv+ the data seperator is a comma (+,+), as seen in the table below.

[source]
----
[format="csv", options="header"]
|===
Artist,Track,Genre
Baauer,Harlem Shake,Hip Hop
The Lumineers,Ho Hey,Folk Rock
|===
----

.Result: Rendered +csv+ table
[width="90"]
[format="csv", options="header"]
|===
Artist,Track,Genre
Baauer,Harlem Shake,Hip Hop
The Lumineers,Ho Hey,Folk Rock
|===

When the format is +dsv+, the data seperator is a colon (+:+).

[source]
----
[format="dsv", options="header"]
|===
Artist:Track:Genre
Robyn:Indestructable:Dance
The Piano Guys:Code Name Vivaldi:Classical
|===
----

.Result: Rendered +dsv+ table
[width="90"]
[format="dsv", options="header"]
|===
Artist:Track:Genre
Robyn:Indestructable:Dance
The Piano Guys:Code Name Vivaldi:Classical
|===

Asciidoctor also provides shorthand notation for setting +csv+ and +dsv+ table formats.
The first position of the table block delimiter (i.e., +|===+) can be replaced by the data delimiter to set the table format.

Instead of specifying the +csv+ format using a block attribute, you can simply replace the leading pipe (+|+) with a comma (+,+):

[source]
----
,===
Artist,Track,Genre

Baauer,Harlem Shake,Hip Hop
,===
----

.Result: Rendered +csv+ table using shorthand syntax
[width="90"]
,===
Artist,Track,Genre

Baauer,Harlem Shake,Hip Hop
,===

In the same way, the +dsv+ format can be specified by replacing the leading pipe (+|+) with a colon (+:+).

[source]
----
:===
Artist:Track:Genre

Robyn:Indestructable:Dance
:===
----

.Result: Rendered +dsv+ table using shorthand syntax
[width="90"]
:===
Artist:Track:Genre

Robyn:Indestructable:Dance
:===

DSV and CSV datasets can also be inserted into a table using the <<include-directive,+include::[]+ directive>>.

[source]
----
[format="csv", options="header"]
|===
\include::tracks.csv[]
|===
----

.Result: Rendered table of CSV data pulled from a seperate file
[width="90"]
[format="csv", options="header"]
|===
include::tracks.csv[]
|===

=== Summary

.Table attributes and values
[cols="1m,2,1m,2,2"]
|===
|Attribute |Description |Value |Description |Notes

.3+|format
.3+|data format of the table's contents
|psv
|Prefixed Separated Values, default, cells are delimited by a +{brvbar}+
.3+|

|dsv
|Delimiter Separated Values, cells are delimited by a colon (+:+)


|csv
|Comma Separated Values, cells are delimited by a comma (+,+)

|separator
|cell separator
d|+{brvbar}+, +:+, +,+, +!+, or a user defined attribute
|+{brvbar}+ is the default, +!+ seperates cells in nested +psv+ tables
|

.4+|frame
.4+|draws a border around the table
|all
|default, border on all sides
.4+|

|topbot
|border on top and bottom

|none
|no borders

|sides 
|border on left and right sides

.4+|grid
.4+|draws boundary lines between rows and columns
|all
|default, draws boundary lines around each cell
.4+|Not yet implemented in Asciidoctor.

|cols
|draws boundary lines between columns

|rows
|draws boundary lines between rows

|none
|no boundary lines

.3+|align
.3+|horizontally aligns table within page width
|left
|default, aligns to left side of page
.3+|Not yet implemented in Asciidoctor. AsciiDoc HTML output only.
The +align+ and +float+ attributes are mutually exclusive.

|right
|aligns to right side of page

|center
|horizontally aligns to center of page

.2+|float
.2+|aligns the table to the side of the page in conjunction with the table's +width+ attribute
|left
|default, aligns the table with the left side of the page
.2+|Not yet implemented in Asciidoctor. AsciiDoc HTML output only.
The +float+ and +align+ attributes are mutually exclusive.

|right
|aligns the table with the right side of the page

.3+|halign
.3+|horizontally aligns all of the cell contents in a table
|left
|default, aligns the contents of the cells to the left
.3+|Not yet implemented in Asciidoctor. AsciiDoc HTML output only.
Overridden by column and cell specifiers.

|right
|aligns the contents of the cells to the right

|center
|aligns the contents to the cell centers

.3+|valign
.3+|vertically aligns all of the cell contents in a table
|top
|default, aligns the cell contents to the top of the cell
.3+|Not yet implemented in Asciidoctor. AsciiDoc HTML output only.
Overridden by column and cell specifiers.

|bottom
|aligns the cell contents to the bottom of the cell

|middle
|aligns the cell contents to the middle of the cell

.2+|options
.2+|comma seperated list of table values
|header
|styles the first table row
.2+|By default header and footer rows are omitted

|footer
|styles the last table row

|cols
|comma seperated list of column specifiers
d|specifiers
|
|

|width
|the table width relative to the available page width
d|user defined value
|a percentage between 1 and 99
|

|filter
|a shell command for content within a cell
|
|
|
|===

== Horizontal Rule

----
'''
----

====
'''
====

=== Markdown-style horizontal rules

Asciidoctor continues to expand support for (reasonable) Markdown syntax by recognizing Markdown horizontal rules.
The motivation here is to ease migration (both of the content and the mind).

To avoid conflicts with the syntax of AsciiDoc block delimiters, only 3 repeating characters (+-+ or +*+) are recognized.
As with Markdown, whitespace between the characters is optional.

.Recognized Markdown horizontal rule syntax
----
---

- - -

***

* * *
----

A macro definition for the Markdown horizontal rules is included in the AsciiDoc compatibility file so they can be recognized by the +asciidoc+ command as well.

=== Summary

NOTE: Section pending

== Page break

----
<<<
----

== Preventing Substitutions

If you are getting quoted text behavior where you don't want it, there are several approaches you can use to prevent it.

Backslash escaping::

To prevent punctuation from being interpreted, proceed it with a backslash:
+
[source]
----
\*Stars* will not be bold, but rather appear as *Stars*.
The backslash character is automatically removed.
----

Double dollar enclosure::

To exclude a phrase from substitutions, enclose it in double dollars (+$$+):
+
[source]
----
$$*Stars*$$ will not be bold, but rather appear as *Stars*.
Special characters are still escaped so, $$<p>$$ appears as <p>.
Double dollar is commonly used to wrap URLs containing punctuation.
----

Triple plus enclosure & inline pass macro::

To exclude a phrase from substitutions and disable escaping of special characters, enclose it in triple pluses (+$$+++$$+) or the inline +$$pass:[]$$+ macro:
+
[source]
----
The markup +++<u>underline me</u>+++ renders as underlined text.
The markup pass:[<u>underline me</u>] produces the same result.
Triple plus and pass:[] are often used to output custom HTML or XML.
----

Backticks enclosure::

To exclude a phrase from substitutions, disable escaping of special characters and render it as monospaced text, enclose it in backticks (+`+):
+
[source]
----
This `*literal*` will appear as *literal* in a monospace font.
Backticks are commonly used around inline code containing markup.
----

////
Put in section for escaping text using substiutions
////

== Replacements

Asciidoctor also recognizes textual representations of symbols, arrows and dashes.

[width="50%", cols="2,1m,1,1"]
.Text replacements
|===
|Name |Source |Resolves{nbsp}To |As{nbsp}Rendered

|copyright
|\(C)
|\&#169;
|(C)

|registered trademark
|\(R)
|\&#174;
|(R)

|trademark
|\(TM)
|\&#8482;
|(TM)

|em dash (between words)
|\--
|\&#8212;
|{empty}--{empty}

|ellipses
|\...
|\&#8230;
|...

|arrow
|\->
|\&#8594;
|->

|arrow
|\=>
|\&#8658;
|=>

|arrow
|\<-
|\&#8592;
|<-

|arrow
|\<=
|\&#8656;
|<=

|apostrophe
|Sam\'s
|Sam\&#8217;s
|Sam's

|euro
|\&euro;
|\&euro;
|&euro;

|euro
|\&#8364;
|\&#8364;
|&#8364;

|euro
|\&#x20ac;
|\&#x20ac;
|&#x20ac;

|XML entity (e.g., dagger)
|\&#8224;
|\&#8224;
|&#8224;
|===

TIP: Any named, numeric or hex {xml-ref}[XML entity reference] is supported.

[width="50%", cols="1m,1"]
.Built-in literal attributes
|===
|Source |Resolves{nbsp}To

|\{lt}
|<

|\{gt}
|>

|\{amp}
|&

|\{startsb}
|[

|\{endsb}
|]

|\{brvbar}
|\|

|\{caret}
|^

|\{asterisk}
|*

|\{tilde}
|~

|\{apostrophe}
|'

|\{backslash}
|\

|\{two-colons}
|::

|\{two-semicolons}
|;;
|===

[width="50%", cols="1m,1,1", options="header"]
.Built-in entity attributes
|===
|Source
|Resolves{nbsp}To +
(e.g.,{nbsp}++\{empty}++)
|As{nbsp}Rendered

|\{empty}
|_nothing_
|{empty}

|\{sp}
|_single space_
|{sp}

|\{nbsp}
|\&#160;
|{nbsp}

|\{zwsp}
|\&zwsp;
|{zwsp}

|\{wj}
|\&#8288;
|{wj}

|\{apos}
|\&apos;
|{apos}

|\{quot}
|\&quot;
|{quot}

|\{lsquo}
|\&#8216;
|{lsquo}

|\{rsquo}
|\&#8217;
|{rsquo}

|\{ldquo}
|\&#8220;
|{ldquo}

|\{rdquo}
|\&#8221;
|{rdquo}

|\{deg}
|\&#176;
|{deg}

|\{plus}
|\&#43;
|{plus}
|===

[width="50%", cols="2"]
.Named substitutions
none:: Disables substitutions

normal:: Performs all substitutions except for callouts

verbatim:: Escapes special characters and processes callouts

specialcharacters:: Escapes special XML characters (e.g., <, >, &)

quotes:: Applies text formatting

attributes:: Replaces attribute references

replacements:: Substitutes text replacements

macros:: Process macros

post_replacements:: Replaces the line break character

== URLs

There's nothing you have to do to make a link to a URL.
Just include the URL in the document and AsciiDoc will turn it into a link.

.External
----
http://asciidoc.org! <1>

http://asciidoc.org[AsciiDoc] <2>

https://github.com/asciidoctor[Asciidoctor @ *GitHub*] <3>

devel@discuss.arquillian.org

mailto:devel@discuss.arquillian.org[Discuss Arquillian]
----

<1> The URL is automatically turned into a link. 
The trailing period will not get caught up in the link.
<2> To turn text into a link, enclose it in square brackets at the end of the URL.
<3> Quoted text formating is available inside links.

====
http://asciidoc.org!

http://asciidoc.org[AsciiDoc]

https://github.com/asciidoctor[Asciidoctor @ *GitHub*]

devel@discuss.arquillian.org

mailto:devel@discuss.arquillian.org[Discuss Arquillian]
====

In addition to email addresses, Asciidoctor recognizes URLs that begin with:

* +$$http://$$+
* +$$https://$$+
* +$$ftp://$$+
* +$$irc://$$+
* +$$mailto:$$+

=== Links to relative files

If you want to link to a file relative to the current document, use the +link:+ macro in front of the file name.

[source]
link:editing-asciidoc-with-live-preview[Editing with Live Preview]

To link directly to a section in the document (a ``deep'' link), append a hash (`#`) followed by the id of the section to the end of the file name.

[source]
link:editing-asciidoc-with-live-preview/#livereload[LiveReload]

You can also create links that refer to sections within the current document.

.Relative
----
link:index.html[Docs]
----

====
link:index.html[Docs]
====

=== Target window and role attributes

You often need to set the target attribute on a link element (+<a>+) so the link opens in a new window (e.g., +<a href="..." target="_blank">+).

This type of configuration is normally specified using attributes.
However, AsciiDoc does not parse attributes in the link macro by default.
In Asciidoctor, you can enable parsing of link macro attributes by setting the +linkattrs+ document attribute in the header.

[source]
 :linkattrs:

You can then specify the name of the target window using the +window+ attribute:

[source]
http://google.com[Google, window="_blank"]

Since +_blank+ is the most common window name, we've introduced shorthand for it.
Just end the link text with a caret (+^+):

[source]
http://google.com[Google^]

CAUTION: If you use the caret syntax more than once in a single paragraph, you may need to escape the first occurrence with a backslash.
If the link text contains a comma, then you need to surround the link text in double quotes.

Since Asciidoctor is parsing the attributes, that opens the door for adding a role (i.e., CSS class) to the link:

[source]
http://google.com[Google^, role="external"]

.Link with attributes (Asciidoctor only)
----
http://discuss.asciidoctor.org[Discuss Asciidoctor, role="external", window="_blank"]

http://discuss.asciidoctor.org[Discuss Asciidoctor^]

http://search.example.com["Google, Yahoo, Bing^", role="teal"]
----

====
http://discuss.asciidoctor.org[Discuss Asciidoctor, role="big", window="_blank"]

http://discuss.asciidoctor.org[Discuss Asciidoctor^]

http://search.example.com["Google, Yahoo, Bing^", role="teal"]
====

NOTE: Links with attributes (including the subject and body segments on mailto links) are a feature unique to Asciidoctor.
To enable them, you must set the +linkattrs+ attribute on the document.
When they are enabled, you must quote the link text if it contains a comma.

=== Cross references

A link to another location in the current document is called a _cross reference_.
You create a cross reference by enclosing the element's id in double angled brackets:

[source]
The section <<content-is-king>> covers paragraphs in AsciiDoc.

In some backends, the text of the link will be automatically generated from the title of the element.
If you want to customize the linked text, include it after the id, separated by a comma:

[source]
Learn how to create <<content-is-king,paragraphs>> in AsciiDoc.

=== Inter-document references

In AsciiDoc, the xref inline macro is used to create a cross-reference (i.e., link) in the content of one section to the top of another section.
Asciidoctor 0.1.4 extends this functionality by allowing a link to be established to a section in another AsciiDoc document.
This eliminates the need to use direct links between documents that are coupled to a particular backend (e.g., HTML links).
It also captures the intent of the author to establish a reference to a section in another document.

Here's how an xref is normally defined in AsciiDoc:

```
Refer to <<section-b>> for more information.
```

This xref creates a link to a section with the id _section-b_.

Let's assume the xref is defined in the document [file]_document-a.adoc_.
If the target section is in a separate document, [file]_document-b.adoc_, the author may be tempted to write:

```
Refer to link:document-b.html#section-b[Section B] for more information.
```

However, this link is coupled to HTML output.
What's worse, if [file]_document-b.adoc_ is included in the same master as [file]_document-a.adoc_, then the link will refer to a document that doesn't even exist!

These problems can be alleviated by using an inter-document xref:

```
Refer to <<document-b.adoc#section-b,Section B>> for more information.
```

The id of the target is now placed behind a hash symbol (+#+).
Preceding the hash is the name of the reference document (the file extension is optional).
We've also added a label since Asciidoctor cannot (yet) resolve the section title in a separate document.

When Asciidoctor generates the link for this xref, it first checks to see if [file]_document-b.adoc_ is included in the same master as [file]_document-a.doc_.
If not, it will generate a link to [file]_document-b.html_, intelligently substituting the original file extension with the file extension of the output file.

```
<a href="document-b.html#section-b">Section B</a>
```

If [file]_document-b.adoc_ is included in the same master as [file]_document-a.doc_, then the document will be dropped in the link target and look like the output of a normal xref:

```
<a href="#section-b">Section B</a>
```

Now you can create inter-document references without the headache.

=== Summary

[cols="1,1,2,2"]
.Link attributes and values
|===
|Attribute |Value(s) |Example Syntax |Comments

|linkattrs
|-
|+:linkattrs:+
|Must be set in the header to parse link macro attributes.

|window
|blank
|$$http://discuss.asciidoctor.org[Discuss Asciidoctor, window="_blank"]$$
|The blank value can also be specified using +^+. Requires +linkattrs+.

|window
|$$^$$
|$$http://search.example.com["Google, Yahoo, Bing^"]$$ and $$http://discuss.asciidoctor.org[Discuss Asciidoctor^]$$
|Requires +linkattrs+.

|role
|CSS classes available to inline elements
|$$http://discuss.asciidoctor.org[Discuss Asciidoctor, role="teal"]$$
|Requires +linkattrs+.

|id
|name of element, custom link text
|$$<<section-titles,sections>>$$
|Applies to cross references
|===

== Images

To include an image on its own line (i.e., a _block image_), use the +image::+ prefix in front of the file name and square brackets after it.

[source]
image::sunset.jpg[]

If you want to specify alt text, include it inside the square brackets:

[source]
image::sunset.jpg[Sunset]

You can also give the image an id, a title, set its dimensions and make it a link.

[source]
----
[[img-sunset]] <1>
.A mountain sunset <2>
image::sunset.jpg[Sunset, 300, 200, link="http://www.flickr.com/photos/javh/5448336655"] <3> <4> <5>
----
<1> id
<2> The title of a block image is displayed underneath the image when rendered.
<3> The first positional attribute, _Sunset_, is the image's alt text.
<4> Image width and height
<5> +link=+ makes the image a link

.A hyperlinked image with caption
====
[[img-sunset]]
.A mountain sunset
image::sunset.jpg[Sunset, 300, 200, link="http://www.flickr.com/photos/javh/5448336655"]
====

If you want to include an image inline, use the +image:+ prefix instead (notice there is only one colon):

[source]
Press the image:save.png[Save, title="Save"] button.

For inline images, the optional title is displayed as a tooltip.

=== imagesdir

Images are resolved relative to the value of the +imagesdir+ document attribute, which defaults to an empty value.
The +imagesdir+ attribute can be an absolute path, relative path or base URL.
If the image target is a URL or an absolute path, the +imagesdir+ prefix is _not_ added.

TIP: You should use the +imagesdir+ attribute to avoid hard coding the shared path to your images in every image macro.

==== Include images by full URL

Asciidoctor supports remote (i.e., images with a URL target) block and inline images.
You can reference images served from any URL (e.g., your blog, an image hosting service, your docs server, etc.) and never have to worry about downloading the images and putting them somewhere locally.

Here are a few examples of images that have a URL target:

.Block image with a URL target
[source]
----
imagesdir: ./images

image::http://inkscape.org/doc/examples/tux.svg[Tux,250,350]
----

.Inline image with a URL target
[source]
----
imagesdir: ./images

You can find image:http://inkscape.org/doc/examples/tux.svg[Linux,25,35] everywhere these days.
----

NOTE: The value of +imagesdir+ is ignored when the image target is a URI.

If you want to avoid typing the URL prefix for every image, and all the images are located on the same server, you can use the +imagesdir+ attribute to set the base URL:

.Using a URL as the base URL for images
[source]
----
:imagesdir: http://inkscape.org/doc/examples

image::tux.svg[Tux,250,350]
----

This time, the +imagesdir+ _is_ used since the image target is not a URL (the +imagesdir+ just happens to be one).

NOTE: This feature is included in the AsciiDoc compatibility file so that AsciiDoc gets it right too.

=== Put images in their place

Images are a great way to enhance the text, whether its to illustrate an idea, show rather than tell or just help the reader connect with the text.

Out of the box, images and text behave like oil and water.
Images don't like to share space with text.
They are kind of "pushy" about it.
That's why we focused on tuning the controls in the image macros so you can get the images and the text to flow together.

There are two approaches you can take when positioning your images:

. Named attributes
. Roles

==== Positioning attributes

Asciidoctor already supports the +align+ attribute on block images to align the image within the block (e.g., left, right or center).
In this release, we added the +float+ named attribute to both the block and inline image macros.
This attribute pulls the image to one side of the page or the other and wraps block or inline content around it, respectively.

Here's an example of a floating block image.
The paragraphs or other blocks that follow the image will float up into the available space next to the image.
The image will also be positioned horizontally in the center of the image block.

.A block image pulled to the right and centered within the block

```
image::tiger.png[Tiger,200,200,float="right",align="center"]
```

Here's an example of a floating inline image.
The image will float into the upper-right corner of the paragraph text.

.An inline image pulled to the right of the paragraph text

```
image:linux.png[Linux,150,150,float="right"]
You can find Linux everywhere these days!
```

When you use the named attributes, CSS gets added inline (e.g., +style="float: left"+).
That's bad practice because it can make the page harder to style when you want to customize the theme.
It's far better to use CSS classes for these sorts of things, which map to roles in AsciiDoc terminology.

==== Positioning roles

Here are the examples from above, now configured to use roles that map to CSS classes in the default Asciidoctor stylesheet:

.Image macros using positioning roles

```
[.right.text-center]
image::tiger.png[Tiger,200,200]

image:linux.png[Linux,150,150,role="right"]
You can find Linux everywhere these days!
```

The following table lists all the roles available out of the box for positioning images.

.Roles for positioning images
[cols="1h,5*^"]
|===
|{empty} 2+|Float 3+|Align

|Role
|left
|right
|text-left
|text-right
|text-center

|Block Image
|{y}
|{y}
|{y}
|{y}
|{y}

|Inline Image
|{y}
|{y}
|{n}
|{n}
|{n}
|===

Merely setting the float direction on an image is not sufficient for proper positioning.
That's because, by default, no space is left between the image and the text.
To alleviate this problem, we've added sensible margins to images that use either the positioning named attributes or roles.

If you want to customize the image styles, perhaps to customize the margins, you can provide your own additions to the stylesheet (either by using your own stylesheet that builds on the default stylesheet or by adding the styles to a docinfo file).

WARNING: The shorthand syntax for a role (+.+) can not yet be used with image styles.

==== Framing roles

It's common to frame the image in a border to further offset it from the text.
You can style any block or inline image to appear as a thumbnail using the +thumb+ role (or +th+ for short), also in the default stylesheet.

NOTE: The +thumb+ role doesn't alter the dimensions of the image.
For that, you need to assign the image a height and width.

Here's a very common example for adding an image to a blog post.
The image floats to the right and is framed to make it stand out more from the text.

```
image:logo.png[role="related thumb right"] Here's text that will wrap around the image to the left.
```

Notice we added the +related+ role to the image.
This role isn't technically required, but it gives the image semantic meaning.

==== Controlling the float

When you start floating images, you may discover that too much content is floating around the image.
What you need is a way to clear the float.
That is provided using another role, +float-group+.

Let's assume that we've floated two images so that they are positioned next to each other and we want the next paragraph to appear below them.

```
[.left]
.Image A
image::a.png[A,240,180]

[.left]
.Image B
image::b.png[B,240,180,title="Image B"]

Text below images.
```

When this example is rendered and viewed a browser, the paragraph text appears to the right of the images.
To fix this behavior, you just need to "group" the images together in a block with self-contained floats.
Here's how it's done:

[source]
----
[.float-group]
--
[.left]
.Image A
image::a.png[A,240,180]

[.left]
.Image B
image::b.png[B,240,180]
--

Text below images.
----

This time, the text will appear below the images where we want it.

=== Summary

[cols="1,1,2,2"]
.Block and inline image attributes and values
|===
|Attribute |Value(s) |Example Syntax |Comments

|imagesdir
|empty, absolute path, relative path or base URL
|+:imagesdir: /file+
|If the image target is a URL or an absolute path, the +imagesdir+ prefix is _not_ added; Default is empty value

|id
|User defined text
|[[sunset-img]] or  +image::sunset.jpg["Sunset", id="sunset-img"]+
|

|alt
|User defined text in first position of attribute list or named attribute
|+image::sunset.jpg["Brillant sunset"]+ or +image::sunset.jpg[align="left", alt="Sunset"]+
|

|title
|User defined text 
|+.A mountain sunset+ or +image::sunset.jpg["Sunset", title="A mountain sunset"]+
|Blocks: title displayed below image, Inline: title displayed as tooltip

|caption
|User defined text
|[caption="Figure 8: "]
|Insert below block title and above image macro; May only apply to block images

|width
|User defined size in pixels
|+image::sunset.jpg[Sunset, width="300"]+
|

|height
|User defined size in pixels
|+image::sunset.jpg[Sunset, height="200"]+
|

|link
|User defined location of external file
|+image::sunset.jpg[Sunset, link="http://www.flickr.com/photos/javh/5448336655"]+
|

|scaledwidth
|User defined percentage by which to scale image's width
|+image::sunset.jpg[Sunset, scaledwidth="25%"]+
|Only applies to block images rendered to DocBook and then converted to PDF

|scale
|TBD
|TBD
|DocBook only

|align
|left, center, right
|+image::sunset.jpg[Sunset, align="left"]+
|Block images only; Align and float attributes are mutually exclusive

|float
|left, right
|+image::sunset.jpg[Sunset, float="right"]+
|Block images only; float and align attributes are mutually exclusive; To stop a floating image, use +unfloat::[]+

|role
|left, right, th, thumb, related, rel
|+image::foo.png[role="thumb right"]+
|Inline images can use role to float images left and right; Role shorthand (+.+) can not be used on images
|===

== Icons

Asciidoctor provides a number of ways to display icons in a document.
The default stylesheet includes admonition and callout icons for the admonition and callout blocks, but you can also specify custom icons.
Additionally, Asciidoctor can "draw" icons using the {fontawesome-ref}[Font Awesome^] font-based icon set.
You can see the icon name options on the {fontawesome-ref}/icons/[icons page]. 

// Support for other icon sets is being discussed in issue [#539].

When you aren't using font-based icons, or you are using the DocBook backend, the icon set is limited to which icons you have in your +iconsdir+ directory.

=== Admonition icons

To use this feature, set the value of the +icons+ document attribute to +font+.
Asciidoctor will then emit HTML markup that selects an appropriate font character from the Font Awesome font for each admonition block.

Here's an example, starting with the AsciiDoc source:

[source]
----
= Document Title
:icons: font

NOTE: Asciidoctor supports font-based admonition icons, powered by Font Awesome!
----

the HTML it produces:

[source,html]
----
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
Asciidoctor supports font-based admonition icons, powered by Font Awesome!
</td>
</tr>
</table>
</div>
----

This is how the admonition looks rendered:

NOTE: Asciidoctor supports font-based admonition icons, powered by Font Awesome!

Asciidoctor adds a reference to the Font Awesome stylesheet and font files served from a CDN to the document header:

[source,html]
<link rel="stylesheet"
  href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.1.0/css/font-awesome.min.css">

IMPORTANT: The default stylesheet (or any stylesheet produced by the {factory-ref}[Asciidoctor stylesheet factory]) is required for this feature to work.

=== Inline icons

Asciidoctor 0.1.4 introduced an inline macro for inserting an icon at an arbitrary place in paragraph content. 

Here's an example that inserts a tags icon in front of a list of tag names:

```
icon:tags[] ruby, asciidoctor
```

Here's how this example renders in the HTML backed when the +icons=font+ attribute is set:

```html
<div class="paragraph">
<p><i class="icon-tags"></i> ruby, asciidoctor</p>
</div>
```

More importantly, here's how it _looks!_

icon:tags[] ruby, asciidoctor

You can even give the icon color by assigning it a role:

```
icon:tags[role="blue"] ruby, asciidoctor
```

which appears as:

icon:tags[role="blue"] ruby, asciidoctor

If you aren't using the font-based icons, Asciidoctor looks for the images on disk, in the +iconsdir+, naturally.
Here's how it renders in the HTML backend when the +icons+ attribute is not set or empty:

```html
<div class="paragraph">
<p><span class="image"><img src="./images/icons/tags.png" alt="tags"></span> ruby, asciidoctor</p>
</div>
```

Here's how it renders in the DocBook backend, regardless of the +icons+ attribute value:

```xml
<inlinemediaobject>
  <imageobject>
    <imagedata fileref="./images/icons/tags.png"/>
  </imageobject>
  <textobject><phrase>tags</phrase></textobject>
</inlinemediaobject> ruby, asciidoctor
```

.Relationship to the inline image macro
The inline icon macro is similar to the inline image macro with a few exceptions:

* If the +icons+ attribute has the value +font+, the macro will translate to a font-based icon in the HTML backend (e.g., +<i class="icon-tags"></i>+)
* If the +icons+ attribute does not have the value +font+, or the backend is DocBook, the macro will insert an image into the document that resolves to a file in the +iconsdir+ directory (e.g., +<img src="./images/icons/tags.png">+)

The file resolution strategy when using image-based icons is the same used to locate images for the admonition icons. The file extension is set using the +icontype+ attribute, which defaults to +png+.

==== Size, rotate, and flip

The icon macro has a few attributes that can be used to modify the size and orientation of the icon. At the moment, these are specific to Font Awesome and therefore only apply to HTML output when icon fonts are enabled.

* size (first positional attribute) - scales the icon; possible values: large, 2x, 4x
* rotate - rotates the icon: possible values: 90, 180, 270
* flip - flips the icon: possible values: horizontal, vertical

The first unnamed attribute is assumed to be the size. For instance, to make the icon twice the size as the default, simply add `2x` inside the square brackets.

    icon:heart[2x]

This is equivalent to:

    icon:heart[size=2x]

And this is how the icon:heart[size=2x] displays.

The previous example emits the following HTML:

    <i class="icon-heart icon-2x"></i>

To rotate and flip the icon, specify these options using attributes:

    icon:shield[rotate=90, flip=vertical]

The icon:shield[rotate=90, flip=vertical] looks like this.

The previous example emits the following HTML:

   <i class="icon-shield icon-rotate-90 icon-flip-vertical"></i>

NOTE: This markup is subject to change. In particular, the `<i>` element may be replaced with the `<span>` element.

==== Link and window

Like an inline image, it's possible to add additional metadata to an inline icon.

Below are the possible attributes that apply to both font-based and image-based icons:

* link - The URI target used for the icon, which will be rendered as a link
* window - The target window of the link (when the `link` attribute is specified) (HTML backend)

Here's an example of an icon rendered as a link:

    icon:download[link="http://rubygems.org/downloads/asciidoctor-0.1.3.gem"]

The previous example emits the following HTML:

    <a class="image" href="http://rubygems.org/downloads/asciidoctor-0.1.3.gem"><i class="icon-download"></i></a>

==== Regular icon attributes

Below are the possible attributes that apply in the case that font-based icons are *not* in use:

* alt - The alternate text on the `<img>` tag (HTML backend) or text for `<inlinemediaobject>` (DocBook backend)
* width - The width applied to the image
* height - The height applied to the image
* title - The title of the image displayed when the mouse hovers over it (HTML backend)
* role - The role applied to the element that surrounds the icon

Currently, the inline icon macro doesn't support any options to change it's physical position (such as alignment left or right).

== Callouts

NOTE: Pending

=== Callouts don't get caught in copy

In versions prior to Asciidoctor 0.1.4, when a reader visiting an HTML page generated by Asciidoctor selected source code from a listing that contained callouts and copied it, the callout numbers would get caught up in the copy.
If the reader pasted that code and tried to run it, likely the extra characters from the callouts caused compile or runtime errors.

Asciidoctor uses CSS to prevent callouts from being selected.

On the other side of the coin, you don't want the callout annotations or CSS messing up your raw source code either.
You can tuck your callouts neatly inside line comments.
Asciidoctor will recognize the line comments characters in front of a callout number, optionally offset by a space, and remove them when rendering the document.

Here are the line comments that are supported:

[source]
....
----
line of code  // \<1>
line of code   # \<2>
line of code  ;; \<3>
----
<1> A callout behind a line comment for C-style languages.
<2> A callout behind a line comment for Ruby, Python, Perl, etc.
<3> A callout behind a line comment for Clojure.
....

Here's how it looks when rendered:

----
line of code  // <1>
line of code  # <2>
line of code  ;; <3>
----
<1> A callout behind a line comment for C-style languages.
<2> A callout behind a line comment for Ruby, Python, Perl, etc.
<3> A callout behind a line comment for Clojure.

WARNING: Asciidoctor enforces that callouts be placed at the end of the line.

=== XML-friendly callouts

XML doesn't have line comments, so our "tuck the callout behind a line comment" trick doesn't work here.
To use callouts in XML, you must place the callout's angled brackets around the the XML comment and callout number.

Here's how it appears in a listing:

[source]
....
[source,xml]
----
<section>
  <title>Section Title</title>  \<!--1-->
</section>
----
<1> The section title is required.
....

Here's how it looks when rendered:

[source,xml]
----
<section>
  <title>Section Title</title>  <!--1-->
</section>
----
<1> The section title is required.

Notice the comment is gone.
Now both you and the reader can copy and paste XML source code containing callouts without worrying about errors.

=== Callout icons

The font icons setting also enables callout icons drawn using CSS.

[source]
----
= Document Title
:icons: font <1>

NOTE: Asciidoctor now supports font-based admonition icons, powered by Font Awesome! <2>
----
<1> Activates font-based icons in the HTML5 backend
<2> Admonition block that uses a font-based icon

== Audio

NOTE: Pending

////
Macro name:

 audio::ocean_waves.mp3[options="loop]"
////

=== Summary

[cols="1,1,2,2"]
.Audio attributes and values
|===
|Attribute |Value(s) |Example Syntax |Comments

|options
|autoplay, loop, controls, nocontrols
|+audio::ocean_waves.mp3[options="autoplay,loop"]+
|The controls value is enabled by default
|===

== Video

The +video+ macro supports displaying videos stored relatively as well as externally.

```
video::video_file.mp4[]
```

You can control the video settings using additional attributes on the macro.
For instance, you can offset the start time of playback using the +start+ attribute and enable autoplay using the +autoplay+ option.

```
video::video_file.mp4[width=640, start=60, options=autoplay]
```

=== YouTube and Vimeo videos

The +video::[]+ macro supports videos from external video hosting services like YouTube and Vimeo.
To use this feature, put the video ID in the macro target and the name of the hosting service in the first positional attribute.
Asciidoctor will put the two together and generate the correct embed code to insert the video in the HTML output.

Here's an example that shows how to embed a YouTube video:

```
video::rPQoq7ThGAU[youtube, 640, 360]
```

and one that shows how to embed a Vimeo video:

```
video::67480300[vimeo, 400, 300]
```

=== Summary

[cols="1,1,2,2"]
.Video attributes and values
|===
|Attribute |Value(s) |Example Syntax |Comments

|title
|User defined text 
|+.An ocean sunset+
|

|poster
|User defined URL or file of an image
|+video::ocean_sunset.mp4[poster="sunset.jpg"]+
|

|width
|User defined size in pixels
|+video::ocean_sunset.mp4[width="400"]+
|

|height
|User defined size in pixels
|+video::ocean_sunset.mp4[height="400"]+
|

|options
|autoplay, loop, controls, nocontrols
|+video::ocean_sunset.mp4[options="loop"]+
|The controls value is enabled by default
|===

== Include Directive

The +include+ macro allows you to insert the content of a file directly into another file. 
The include directive resolves files relative to the current document instead of the root document.
This applies to include directives used inside a file which itself has been included.

.Document parts
[source]
----
= Reference Documentation
Lead Developer

This is documentation for project X.

\include::basics.adoc[]

\include::installation.adoc[]

\include::example.adoc[]
----

.Common text
[source]
----
== About the author

\include::author-bio.adoc[]
----

Asciidoctor does not insert blank lines between adjacent include statements to keep the content separated. 
Be sure to add a blank line in the source document to avoid unexpected results, such as a section title being swallowed.
Also, the relative indentation between the lines of source code *is not affected* unless you set the <<normalizing-the-block-indentation,+indent+ attribute>>.

=== Line ranges

The include macro supports extracting a range of lines from within a document.

The line range is assigned to the +lines+ attribute as shown in the example below.

[source,asciidoc]
....
----
\include::filename.txt[lines=(5..10)]
----
....

Multiple ranges can be specified as well:

[source,asciidoc]
....
----
\include::filename.txt[lines=(1..10),(15..20)]
----
....

=== Normalizing the block indentation

Source code snippets from external files are often padded with a leading block indent. 
This leading block indent is relevant in its original context. 
However, once inside the documentation, this leading block indent is no longer needed.

The attribute +indent+ allows the leading block indent to be stripped and, optionally, a new block indent to be set for blocks with verbatim content (listing, literal, source, verse, etc.).

* When +indent+ is 0, the leading block indent is stripped (tabs are also replaced with 4 spaces).
* When +indent+ is > 0, the leading block indent is first stripped (tabs are also replaced with 4 spaces), then a block is indented by the number of columns equal to this value.

For example, this AsciiDoc source:

[source,asciidoc]
....
[source,ruby,indent=0]
----
    def names
      @name.split ' '
    end
----
....

Produces:

....
def names
  @name.split ' '
end
....

This AsciiDoc source:

....
[indent=2]
----
    def names
      @name.split ' '
    end
----
....

Produces:

----
  def names
    @name.split ' '
  end
----

=== Include files relative to a common source directory

Asciidoctor expands attributes in the target of the include macro.
That means you only have to type the unique part of the path when linking to a source file.

Example:

[source,asciidoc]
....
:sourcedir: src/main/java

[source,java]
----
\include::{sourcedir}/org/asciidoctor/Asciidoctor.java[]
----
....

The target of the include macro resolves to:

 src/main/java/org/asciidoctor/Asciidoctor.java
 
=== Include content from a URI

The +include+ macro can include content directly from a URI.

Here's an example that demonstrates how to include AsciiDoc content:

```
:asciidoctor-source: https://raw.github.com/asciidoctor/asciidoctor/master

\include::{asciidoctor-source}/README.adoc[]
```

Since this is a potentially dangerous feature, it's disabled if the safe mode is SECURE or greater.
Assuming the safe mode is less than SECURE, you must also set the +allow-uri-read+ attribute to permit Asciidoctor to read content from a URI.

Reading content from a URI is obviously much slower than reading it from a local file.
Asciidoctor provides a way for the content read from a URI to be cached, which is highly recommended.

To enable the built-in cache, you must:

* install the open-uri-cached gem
* set the +cache-uri+ attribute

When these two conditions are satisified, Asciidoctor will cache content read from a URI according the to {http-ref}[HTTP caching recommendations].

== Experimental Macros

IMPORTANT: You *must* set the +experimental+ attribute to enable these macros.

=== Keyboard shortcuts

Asciidoctor recognizes a macro for creating keyboard shortcuts using the syntax `kbd:[key(+key)*]`.

For example:

.Common browser keyboard shortcuts
|===
|Shortcut |Purpose

|kbd:[F11]
|Toggle fullscreen

|kbd:[Ctrl+T]
|Open a new tab

|kbd:[Ctrl+Shift+N]
|New incognito window

|kbd:[Ctrl + +]
|Increase zoom
|===

You no longer have to struggle to explain to users what keys they are supposed to press.

=== Menu selections

Trying to explain to someone how to select a menu item can be a pain.
With the +menu+ macro, the symbols do the work.

For example:

----
To save the file, select menu:File[Save].

Select menu:View[Zoom > Reset] to reset the zoom level to the default setting.
----

The instructions in the example appove appear as:

====
To save the file, select menu:File[Save].

Select menu:View[Zoom > Reset] to reset the zoom level to the default setting.
====

=== UI buttons

It can be equally difficult to communicate to the reader that they need to press a button.
They can't tell if you are saying ``OK'' or they are supposed to look for a button labeled "OK".
It's all about getting the semantics right.
The +btn+ macro to the rescue!

For example:

----
Press the btn:[OK] button when you are finished.

Select a file in the file navigator and click btn:[Open].
----

Here's the result:

====
Press the btn:[OK] button when you are finished.

Select a file in the file navigator and click btn:[Open].
====

We are looking for feedback on these macros before setting them in stone.
If you have suggestions, we want to hear from you!

== Source Code Syntax Highlighting

To enable syntax highlighting in your document, you need to set the +source-highlighter+ attribute in the document header.

 :source-highlighter: library value

Asciidoctor supports a number of syntax highlighting libraries.

.Available syntax highlighters
|===
|Library |Value

|CodeRay
|coderay

|Highlight.js
|highlightjs

|Prettify
|prettify

|Pygments
|pygments
|===

Once you've set the attribute and library value, set the block style to source and specify the source language in the second attribute position.

.Example
....
[source,ruby]
----
require 'asciidoctor'

puts Asciidoctor.render_file('sample.adoc', :header_footer => true)
----
....

.Example output
[source,ruby]
----
require 'asciidoctor'

puts Asciidoctor.render_file('sample.adoc', :header_footer => true)
----

[listing]
.Code block with title and syntax highlighting
....
[source,ruby]
.app.rb
----
require 'sinatra'

get '/hi' do
  "Hello World!"
end
----
....

====
[source,ruby]
.app.rb
----
require 'sinatra'

get '/hi' do
  "Hello World!"
end
----
====

[listing]
.Code block sourced from file
....
[source,ruby]
----
\include::app.rb[]
----
....

[listing]
.Code block sourced from file relative to source directory
....
:sourcedir: src/main/java

[source,java]
----
\include::{sourcedir}/org/asciidoctor/Asciidoctor.java[]
----
....

.Code block without delimiters (no blank lines)
----
[source,xml]
<meta name="viewport"
  content="width=device-width, initial-scale=1.0">
----

====
[source,xml]
<meta name="viewport"
  content="width=device-width, initial-scale=1.0">
====

TIP: Syntax highlighting is not disabled if an explicit +subs+ attribute is used on a source listing (as long as +specialcharacters+ is in the subs list).

=== Installing Pygments

The most popular source code highlighter in the AsciiDoc world, perhaps even the whole world, is {pygments-org}[Pygments].

In order to use Pygments with Asciidoctor, you need to install Pygments (and Python, if you don't have it yet).
You then need to install the pygments.rb RubyGem.

 $ "`\which apt-get || \which yum || \which brew`" install pygments
 $ gem install pygments.rb

To activate it in Asciidoctor, assign the value +pygments+ to the +source-highlighter+ attribute in your document's header.

 :source-highlighter: pygments

= Part 6: Enriching Your Content

NOTE: Section pending

== Attributes (uncommon?)

NOTE: Section pending

=== Counter attributes
----
[caption=""]
.Parts{counter2:index:0}
|===
|Part Id |Description

|PX-{counter:index}
|Description of PX-{index}

|PX-{counter:index}
|Description of PX-{index}
|===
----

====
[caption=""]
.Parts{counter2:index:0}
|===
|Part Id |Description

|PX-{counter:index}
|Description of PX-{index}

|PX-{counter:index}
|Description of PX-{index}
|===
====

=== Document attributes

NOTE: Section pending

=== Command Line Attributes

NOTE: Section pending

==== Usage

NOTE: Section pending

==== Unset attributes from the CLI

When used on the command line, the leading +!+ is misinterpretted by the shell as a command. 
However, this is easily solved by quoting (or escaping) the argument value. 

For example:

 -a '!numbered'

or

 -a \!numbered

unset the +numbered+ attribute when entered on the command line.

Typically, attribute entries are set in the document's header.

== Metadata

NOTE: Section pending

=== Chunking

NOTE: Section pending

////
== Sourcecode highlighting

== Icons and Callouts

== Images Dir

== Includes
////

= Part 7: Navigating and Referencing Your Content

NOTE: Section pending

== Mapping Content

NOTE: Section pending

=== Table of Contents 2

NOTE: Section pending, possible move location

=== Section links 2

NOTE: Section pending, possible move location

[[section-index]]
=== Index

NOTE: Section pending

== Referencing Content

NOTE: Section pending

[[section-footnotes]]
=== Footnotes

.Normal and reusable footnotes
----
A statement.footnote:[Clarification about this statement.]

A bold statement.footnoteref:[disclaimer,These opinions are my own.]

Another bold statement.footenoteref:[disclaimer]
----

====
[.unstyled]
|===
a|
A statement.footnote:[Clarification about this statement.]

A bold statement.footnoteref:[disclaimer,These opinions are my own.]

Another bold statement.footnoteref:[disclaimer]
|===
====

[[section-bibliography]]
=== Bibliography

.References
----
'The Pragmatic Programmer' <<prag>> should be required reading for
all developers.

[bibliography]
- [[[prag]]] Andy Hunt & Dave Thomas. 'The Pragmatic Programmer:
  From Journeyman to Master'. Addison-Wesley. 1999.
- [[[seam]]] Dan Allen. 'Seam in Action'. Manning Publications.
  2008.
----

====
'The Pragmatic Programmer' <<prag>> should be required reading for
all developers.

[bibliography]
- [[[prag]]] Andy Hunt & Dave Thomas. 'The Pragmatic Programmer:
  From Journeyman to Master'. Addison-Wesley. 1999.
- [[[seam]]] Dan Allen. 'Seam in Action'. Manning Publications.
  2008.
====

= Part 8: Preparing Your Content for Production

NOTE: Section pending

While the AsciiDoc syntax is designed to be readable in raw form, the intended audience for that format are writers and editors.
Readers aren't going to appreciate the raw text nearly as much.
Aesthetics matter.
You'll want to apply nice typography with font sizes that adhere to the ``golden ratio'', colors, icons and images to give it the respect it deserves.
That's where the Asciidoctor processor comes in.

The Asciidoctor processor parses the document and translates it into a backend format, such as HTML, ePub, DocBook or PDF.
It ships with a set of default templates, but you can customize the templates or create your own to get exactly the output you want.

== Previewing Your Content

NOTE: Section pending

=== Guard/Live viewer

NOTE: Section pending

== Output Selection

NOTE: Section pending, List most options here but only go in depth on the common ones

== HTML

NOTE: Section pending

+html5+:: HTML 5 markup styled with CSS3.

Asciidoctor provides both a command-line tool and a Ruby API for converting AsciiDoc documents to HTML.

=== Using a command-line tool

In this section, we'll create a sample document, then render and style it with Asciidoctor and the +html5+ backend.

. Create an AsciiDoc file like the one below
. Save the file as +sample.adoc+

----
 = Introduction to AsciiDoc
 Doc Writer <doc@example.com>

 A preface about http://asciidoc.org[AsciiDoc].

 == First Section

 * item 1
 * item 2

 [source,ruby]
 puts "Hello, World!"
----

To convert +sample.adoc+ to HTML from the command-line:

. Open a console
. Switch to the directory that contains the +sample.adoc+ document
. Call the Asciidoctor processor with the +asciidoctor+ command, followed by the name of the document you want to render

//end

 $> asciidoctor sample.adoc

Remember, Asciidoctor's default backend is +html5+, and therefore it isn't necessary to specify it with the +-b+ command.

You won't see any messages printed to the console.
If you type +ls+ or view the directory in a file manager, there is a new file named +sample.html+.

 $> ls
 sample.adoc  sample.html

Asciidoctor derives the name of the output document from the name of the input document.

=== Using the Ruby API

// TODO: expand this section 

Asciidoctor also includes a Ruby API that lets you generate an HTML document directly from a Ruby application.

[source,ruby]
----
require 'asciidoctor'

Asciidoctor.render_file('sample.adoc', :in_place => true)
----

Alternatively, you can capture the HTML output in a variable instead of writing it to a file.

[source,ruby]
----
html = Asciidoctor.render_file('sample.adoc', :header_footer => true)
puts html
----

=== Styles and attributes

Asciidoctor uses CSS for HTML document styling and JavaScript for generating document attributes such as a table of contents and footnotes.
It comes bundled with a fresh, modern stylesheet, named +asciidoctor.css+.
When you generate a document with the +html5+ backend, the +asciidoctor.css+ stylesheet is applied and linked automatically by default.
However, +asciidoctor.css+ is not automatically available to the generated HTML document; you have two choices:

. If you prefer to copy +asciidoctor.css+ to the output location and link to it from the generated document, set the +copycss+ attribute:

 $> asciidoctor -a copycss sample.adoc

. If you prefer to embed the stylesheet into the document, unset the +linkcss+ attribute:

 $> asciidoctor -a linkcss! sample.adoc

Just browse to +sample.html+ in your browser and checkout the result!

TIP: +linkcss!+ (which implies "embed css") embeds any stylesheet, not just +asciidoctor.css+.

IMPORTANT: +linkcss+ is set by default, unlike in AsciiDoc.
We believe linking to the stylesheet is a better default, certainly a accepted practice on the web.

If you unset the stylesheet attribute, Asciidoctor will generate HTML without any styles:

 $> asciidoctor -a stylesheet! sample.adoc

One of Asciidoctor's strengths is the ease in which you can swap the default stylesheet for your own custom stylesheet or alternative Asciidoctor themes.

To view the Asciidoctor themes in action, visit the {showcase-ref}[theme showcase].

////
For information on using the stylesheets in the Asciidoctor Stylesheet Factory, read the {buildref}[Building the Asciidoctor Factory Themes guide] or explore the {factoryrepo}[Factory's repository].
////

If you want to apply your own stylesheet to the rendered HTML:

. Save it in the same directory as +sample.adoc+
. Call the +asciidoctor+ processor
. Add the +stylesheet+ attribute with +-a+ (+--attribute+)
. Include the stylesheet file's name

//end

 $> asciidoctor -a stylesheet=mystyles.css sample.adoc

To have Asciidoctor embed the contents of the stylesheet in the generate HTML document, use:

 $> asciidoctor -a stylesheet=mystyles.css -a linkcss! sample.adoc

Stylesheets can also be stored in the +stylesheets+ directory, but then you need to tell Asciidoctor where to look for them using the +stylesdir+ attribute.

 $> asciidoctor -a stylesdir=./stylesheets -a stylesheet=mystyles.css sample.adoc

////
TIP: The {customthemeref}[Custom Theme guide] provides detailed steps for using your custom stylesheet with Asciidoctor.
////

A stable of attributes are also available to add feature and style customizations to the rendered HTML.

// TODO: expand this section 

For example, you can activate syntax highlighting options in the code with this argument:

 -a source-highlighter=highlightjs 

If you have image references in your document, you'll have to move those with the output document.
Or, by passing the +data-uri+ attribute to the processor, you can embed the images into the document.

 $> asciidoctor -a data-uri sample.adoc

If you want the document to include a table of contents, pass the +toc+ attribute to the processor:

 $> asciidoctor -a data-uri -a toc sample.adoc

Alternatively, if you want to use +data-uri+ and +toc+ by default, you can add them to the header of the document.

----
 = Introduction to AsciiDoc
 Doc Writer <doc@example.com>
 :data-uri:
 :toc:

 Content...
----

If you include the attributes in the document's header, you do not need to pass them through the processor when you render the document.

.Converting a document to HTML with AsciiDoc
****

While AsciiDoc comes with two HTML backends, we'll use the +html5+ backend to render +sample.adoc+.

In your command prompt, specify the +html5+ backend with +-b+ and execute the following command:

 $> asciidoc -b html5 sample.adoc

AsciiDoc ships with a blue default theme, +asciidoc.css+, and two alternative themes named flask and volnitsky.
People tend to prefer the flask theme, which you can enable using the +theme+ attribute:

 $> asciidoc -b html5 -a theme=flask sample.adoc

The AsciiDoc +theme+ attribute is used to select an alternative CSS stylesheet and include optional JavaScript code.
AsciiDoc also allows users to create their own themes.

NOTE: Currently, Asciidoctor does not support the +theme+ attribute.
Stylesheets can only be applied via the +stylesheet+ attribute.

As in Asciidoctor, you can also override the default stylessheet and supply your own with the +stylesheet+ attribute.

 $> asciidoc -b html5 -a stylesheet=mystyles.css sample.adoc

AsciiDoc embedds the stylesheet into the document.

Optional attributes such as +data-uri+, +toc+, and footnotes, are called and processed by AsciiDoc just as they are in Asciidoctor.

For example, to embed images into +sample.adoc+ with the AsciiDoc processor, type:

 $> asciidoc -b html5 -a data-uri sample.adoc

Or add +data-uri+ to the header of the document:

----
 = Introduction to AsciiDoc
 Doc Writer <doc@example.com>
 :data-uri:

 Content...
----
****

== DocBook

Asciidoctor 0.1.4 can produce DocBook 5.0 output, which is generated by the +docbook5+ backend.

The output from the +docbook5+ backend only differs from the +docbook45+ backend so far as to make it compliant to the DocBook 5.0 specification.
A summary of the differences are as follows:

* XSD declarations are used on the document root instead of a DTD
* +<info>+ elements for document info instead of +<articleinfo>+ and +<bookinfo>+
* elements that hold the author's name are wrapped in a +<personname>+ element
* the id for an element is defined using an +xml:id+ attribute
* +<link>+ is used for links instead of +<ulink>+
* the URL for a link is defined using the +xlink:href+ attribute

Refer to {docbook5-ref}[What's new in DocBook v5.0?] for more details about how DocBook 5.0 differs from DocBook 4.5.

To use the DocBook 5.0 backend, set the backend to +docbook5+, as shown in this example:

 $ asciidoctor -b docbook5 sample.adoc

Here's a sample DocBook 5.0 document generated by this backend:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<article xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
  <info>
    <title>Hello, AsciiDoc!</title>
    <date>2013-09-03</date>
    <author>
      <personname>
        <firstname>Doc</firstname>
        <surname>Writer</surname>
      </personname>
      <email>doc@example.com</email>
    </author>
    <authorinitials>DW</authorinitials>
  </info>
  <simpara>
    An introduction to <link xlink:href="http://asciidoc.org">AsciiDoc</link>.
  </simpara>
  <section xml:id="_first_section">
    <title>First Section</title>
    <itemizedlist>
      <listitem>
        <simpara>item 1</simpara>
      </listitem>
      <listitem>
        <simpara>item 2</simpara>
      </listitem>
    </itemizedlist>
  </section>
</article>
```

[TIP]
====
The +xmlns+ attribute is now added to the root DocBook element by default.
Set the attribute +noxmlns+ to disable this feature.
====

Since the AsciiDoc syntax was designed with DocBook output in mind, the conversion is very good.
There's a corresponding DocBook element for each markup in the AsciiDoc syntax.

To convert the +sample.adoc+ document to DocBook format, call the processor with the backend flag set to +docbook+:

 $> asciidoctor -b docbook sample.adoc

A new XML document, named +sample.xml+, will now be present in the current directory.

 $> ls
 sample.adoc  sample.html  sample.xml

If you're on Linux, you can view the DocBook file with {yelp}[Yelp].

 $> yelp sample.xml

Using the Asciidoctor Ruby API, you can generate a DocBook document directly from a Ruby application:

[source,ruby]
----
Asciidoctor.render_file('sample.adoc', :in_place => true,
    :backend => 'docbook')
----

DocBook is only an intermediary format in the toolchain.
You'll either feed it into a system that processes DocBook (like {publican}[publican]), or you can convert it to PDF using the +a2x+ command from AsciiDoc.

== Man Pages in AsciiDoc

One of the most interesting uses of AsciiDoc is for creating man pages (short for manual pages) for Unix and Unix-like operating systems.
A man page conforms to a special document structure.
That structure is recognized by AsciiDoc, and now Asciidoctor, when the +doctype+ attribute is set to +manpage+.
Additionally, Asciidoctor produces the same output as AsciiDoc when rendering a man page to HTML using the +html5+ backend.

When reading an AsciiDoc document using the +manpage+ doctype, Asciidoctor parses the following man page metadata:

* mantitle
* manvolnum
* manname
* manpurpose

The +mantitle+ and +manvolum+ are captured from the document title. 
The +manname+ and +manpurpose+ are taken from the first section of the document, which must be a level 1 section and have content in the format +<manname> - <manpurpose>+.

Here's an example of a man page written in AsciiDoc:

```
= asciidoctor(1)
:doctype: manpage

== NAME
asciidoctor - converts AsciiDoc source files...

== SYNOPSIS
*asciidoctor* ['OPTION']... 'FILE'...
```

From this document, Asciidoctor extracts the following man page-related attributes:

[horizontal]
mantitle:: asciidoctor
manvolnum:: 1
manname:: asciidoctor
manpurpose:: converts AsciiDoc source files...

Refer to {man-raw}[the AsciiDoc source of the Asciidoctor man page] to see a complete example.
The man pages for git are also produced from AsciiDoc documents, so you can use those as another example to follow.

The Asciidoctor Backends repository hosts an early draft of a {man-backend-git}[manpage backend], which is now used to generate the man page for Asciidoctor.

== PDF

NOTE: Section pending

PDF is a nice format for presenting a final version of a document.
For legacy reasons, the conversion to PDF is handled by a separate program in the AsciiDoc distribution, {a2x}[+a2x+].

+a2x+ accepts a DocBook file, like the +sample.xml+ file created in the section above, as input and converts it to a PDF.

In your console: 

. Call the +a2x+ program
. Select the output format with +-f+ (+--format+)
. Followed by the format type +pdf+

//
 $> a2x -f pdf sample.xml

A PDF document, named +sample.pdf+, will now be present in the current directory:

 $> ls
 sample.adoc  sample.html  sample.pdf  sample.xml

You can view the PDF using any PDF viewer.

Rather than converting from AsciiDoc to DocBook and then from DocBook to PDF in two steps, +a2x+ can go directly from AsciiDoc to PDF in a single call:

 $> a2x -f pdf sample.adoc

== Slideshows

The conversion to HTML-based slides is handled by a custom backend.
The backends usually requires that you adhere to a set of conventions to define a slide and its content.
But there's nothing in that content that restricts the document from being converted to a regular HTML page or PDF.

The first backend created was the one for deck.js.
Asciidoctor has backends for generating dzslides and reveal.js presentations as well.
Backends for other presentation frameworks are in the works.

=== Deck.js

The {backend-git}[deck.js backend] for Asciidoctor is a collection of Haml templates that transform an AsciiDoc document to HTML 5-based slides animated by {deckjs-org}[deck.js].

==== Ruby Gem Requirements

The Asciidoctor deck.js backend requires the following gems:

* asciidoctor
* tilt
* haml

To determine what gems are installed on your system, open a terminal window and type:
 
 $ gem list --local

A list of installed gems will be returned.

If you're missing the +asciidoctor+, +tilt+, or +haml+ gems, install them from the command-line with +gem install+.

 $ gem install asciidoctor tilt haml

==== Backend and deck.js installation

. Download or +git clone+ the {backend-git}[Asciidoctor backends] repository.

 $ git clone git://github.com/asciidoctor/asciidoctor-backends.git

. Create a directory named +deck.js+ inside your working directory (i.e. where your AsciiDoc document resides).

. {deckjs-zip}[Download] and extract the deck.js archive or +git clone+ the {deckjs-git}[deck.js] repository into the +deck.js+ directory you created in step 2.

 $ git clone git://github.com/imakewebthings/deck.js.git

. If you plan to split your slides, {decksplitjs-git}[download the +deck.split.js+ extension] and copy it into the +deck.js/extensions+ directory.

. If you want to use the fullscreen photo feature, create an +images+ directory in your working directory.

==== Document attributes

There are a number of document attributes specific to the +deckjs+ backend.

.+deckjs+ backend document attributes
[cols="2,1,2m",options="header"]
|===
|Attribute |Description |Example

|:backend: deckjs
|Activates the deck.js backend to render the document as a deck.js presentation
|:backend: deckjs

|:deckjs_theme: <theme>
|Sets the deck.js theme to neon, swiss or web-2.0
|:deckjs_theme: web-2.0

|:deckjs_transition: <type>
|Sets the transition style to horizontal-slide, vertical-slide or fade
|:deckjs_transition: fade

|:customjs: <javascript location>
|Sets a custom javascript file; can be used as a deck.js custom configuration
|:customjs: <javascript location>

|:customcss: <css location>
|Sets a custom css file
|:customcss: <css location>

|:menu:
|Toggle to and from a grid layout overview of all the slides by pressing the +m+ key
|:menu:

|:navigation:
|Renders clickable previous and next navigation icons on the slides
|:navigation:

|:status:
|Renders the current slide number and total number of slides
|:status:

|:split:
|Registers the split module for use in the document
|:split:
|===

NOTE: You can also specify a custom stylesheet using the +stylesheet+ attribute, which customizes AsciiDoc elements like section, paragraph, images, etc.

The attributes described in the table above are set in the header of your document.

.Header with +deckjs+ backend attributes
....
= Presentation Title
Presenter Name
:backend: deckjs
:deckjs_theme: web-2.0
:deckjs_transition: horizontal-slide
:navigation:
....

==== Slide syntax examples

Structuring a slideshow and writing the slide content uses the same syntax as a typical AsciiDoc document, with a few added features.

Let's see some examples of the +deckjs+ backend features:

.Slide titles and background images
----
= Title of Presentation <1>
Presenter Name
:backend: deckjs
:deckjs_transition: fade
:navigation:

== Title of Slide One <2>

This is the first slide after the title slide.

[canvas-image="images/example.jpg"] <3>
== Slide Two's Title will not be displayed <4>

[role="canvas-caption", position="center-up"] <5>
This text is displayed on top of the example.jpg image.
----
<1> The presentation title and author's name will be displayed on the title slide.
<2> Each new slide is designated by a level 1 section title (`==`).
<3> The +canvas-image+ attribute embeds a fullscreen image as a slide background. Position the attribute above the title of the slide you want the image applied to.
<4> When the +canvas-image+ attribute is applied to a slide, that slide's title will not be displayed.
<5> +canvas-caption+ applies a colored box around the caption text. +position+ specifies the location of the caption block (bottom-left, top-left, bottom-right, top-right, center-up, center-down)

.Stepped paragraphs, lists, and blocks
----
== Stepped paragraphs

[options="step"]
This paragraph is displayed first.

[options="step"]
Then this paragraph is displayed when the _Next_ arrow is clicked.

== Stepped list items

[options="step"]
* A bullet is displayed each time the _Next_ arrow is clicked.
* B
* C

== Stepped blocks

[options="step"]
----
Block one
----

[options="step"]
----
Block two
----
----

The +step+ option reveals each paragraph, bullet, etc. separately each time you click the _Next_ arrow.

WARNING: The original AsciiDoc +deckjs+ backend for the AsciiDoc processor used the option +incremental+ instead of +step+. 
We've changed it to +step+ in order to save you some typing.

.Split
----
= Presentation Title
Presenter Name
:backend: deckjs
:split: <1>

== This Slide is Split

This Slide will act like

<<< <2>

three individual slides with the same title

<<<

once the document is rendered.
----
<1> To create multiple, consecutive slides with the same title, set the +split+ attribute in the document header.
<2> Then, within a slide, insert `<<<` to specify the slide breaks.

==== Rendering

To render your presentation as HTML5, execute the command:

 $ asciidoctor -T ../asciidoctor-backends/haml presentation.adoc

. The command +-T+ (+--template-dir+) tells the Asciidoctor processor to override the built-in backends.
. Directly after +-T+ is the path to where you saved or cloned the Asciidoctor backends repository containing the +deckjs+ backend (step 1 under the <<backend-and-deckjs-installation,installation section>>).  

== Custom Backends

NOTE: Section pending

== Stylesheets

NOTE: Section pending

== Default

NOTE: Section pending

=== Stylesheets embedded by default

In Asciidoctor 0.1.4, stylesheets are embedded in the document by default (i.e., +linkcss+ is not set).
If no stylesheet is specified, then it's the default stylesheet that's embedded.

New users do not need to worry about the +linkcss+ or +copycss+ attributes.
In fact, the +copycss+ attribute is no longer necessary.
Now, if the +linkcss+ attribute is set, the default stylesheet, [file]_asciidoctor.css_, is copied to the +stylesdir+ within the output directory.

CAUTION: Asciidoctor does not yet copy the user-specified stylesheet when the +linkcss+ stylesheet is set.

=== CodeRay and Pygments stylesheets

Asciidoctor will also embed the stylesheet that provides the theme for either the CodeRay or Pygments syntax highlighter.

.For CodeRay
If the +source-highlighter+ attribute is +coderay+ and the +coderay-css+ attribute is +class+, the CodeRay stylesheet is:

* _embedded_ if +linkcss+ is not set (default behavior)
* _copied_ to the file [file]_asciidoctor-coderay.css_ inside the +stylesdir+ folder within the output directory if +linkcss+ is set

.For Pygments
If the +source-highlighter+ attribute is +pygments+ and the +pygments-css+ attribute is +class+, the Pygments stylesheet is

* _embedded_ if +linkcss+ is not set (default behavior)
* _copied_ to the file [file]_asciidoctor-pygments.css_ inside the +stylesdir+ folder within the output directory if +linkcss+ is set

== Stylesheet Factory

NOTE: Section pending

The {factory-ref}[Asciidoctor stylesheet factory] is where themes are developed for styling your documents.
Specifically, these stylesheets can be used to quickly customize the look and feel of HTML 5 documents generated by Asciidoctor.

To view the Asciidoctor themes in action, visit the {showcase-ref}[theme showcase].

WARNING: The Asciidoctor stylesheet factory is currently only compatible with Asciidoctor 0.1.2 and greater.

== Setting up the factory

The stylesheets in the Asciidoctor stylesheet factory are built using {compass-ref}[Compass], a CSS authoring framework that uses {sass-ref}[Sass] to generate CSS files.
The styles and components are generated by {foundation-ref}[Foundation 4], an awesome and flexible CSS component framework that ensures your stylesheet is cross-browser and mobile friendly.

=== Install the gems

In order to build the stylesheets, you must download the Asciidoctor stylesheet factory repository and install the Compass and Foundation gems.

. Download or clone the {factory-ref}[Asciidoctor stylesheet factory repository].
+
NOTE: It does not matter where you save the project on your system.
. Make sure you have {get-ruby-ref}[Ruby and RubyGems] installed, and, ideally, {bundler-ref}[Bundler].
. Run Bundler to install the Compass and Foundation gems.

 $ bundle install

+
This +bundle+ command is equivalent to executing:

 $ gem install --version '0.12.2' compass
 $ gem install --version '4.1.1' zurb-foundation

Once you have the gems installed, you can build the stylesheets.

=== Build the stylesheets

To build the stylesheets:

. Navigate to the Asciidoctor stylesheet factory directory on your system. 
. Run Compass's +compile+ command.

 $ compass compile

The stylesheets are compiled from the Sass source files in the [path]'sass/' folder and written to the [path]'stylesheets/' folder.
You can reference the stylesheets in [path]'stylesheets/' from your HTML file.

== Applying a stylesheet to HTML

Let's practice applying a stylesheet to a simple AsciiDoc file.

. Create an AsciiDoc file like the one below.
. Save the file as [path]'sample.adoc'.

// end

[source, asciidoc]
----
= Introduction to AsciiDoc
Doc Writer <doc@example.com>

A preface about http://asciidoc.org[AsciiDoc].

== First Section

* item 1
* item 2

[source,ruby]
puts "Hello, World!"
----

Next, you'll use the Asciidoctor processor to generate HTML and apply a stylesheet to it from the [path]'stylesheets/' directory.

=== Generate an HTML document

Now it's time to pick the stylesheet you want to apply to your content when it is rendered.
In your file browser, navigate to the [path]'stylesheets/' directory.
Or, using a console, change to the [path]'stylesheets/' directory and list the available stylesheets using the +ls+ command.

 $ ls

.Console output of +ls+ command
....
asciidoctor.css  foundation-lime.css    iconic.css       riak.css
colony.css       foundation-potion.css  maker.css        rubygems.css
foundation.css   golo.css               readthedocs.css
....

Let's apply the [path]'colony.css' stylesheet to the sample document.

. Navigate to the directory where you saved [path]'sample.adoc'.
. Call the +asciidoctor+ processor.
. Specify the stylesheet you want applied with the +stylesheet+ attribute.
. Tell the processor where the specified stylesheet is located with the +stylesdir+ attribute.

 $ asciidoctor -a stylesheet=colony.css -a stylesdir=../stylesheets sample.adoc

Open a browser, navigate to [path]'sample.html' and checkout the result!

If you inspect the [path]'sample.html' document, you should see that the stylesheet is linked to the rendered document.

 <link rel="stylesheet" href="../stylesheets/colony.css">

If you prefer to embed the [path]'colony.css' stylesheet into the generated HTML output, unset the +linkcss+ attribute when you render the document.

 $ asciidoctor -a linkcss! -a stylesheet=colony.css -a stylesdir=../stylesheets sample.adoc

.Stylesheet images
****
The Golo, Maker, and Riak themes include image assets.
To apply these themes to your document correctly, the applicable images must be copied into the same directory as the generated output.

For example, to apply the [path]'maker.css' stylesheet to [path]'sample.adoc':

. Copy [path]'body-bh.png' from the [path]'images/maker/' directory into the output directory.
. Call the +stylesheet+ and +styledir+ attributes.

 $ asciidoctor -a stylesheet=maker.css -a stylesdir=../stylesheets sample.adoc
 
Navigate to [path]'sample.html' in your browser. The [path]'body-bh.png' image should add a graph paper-like background to your generated output.
****

=== External preview

You may want to preview sample HTML files on another computer or device.
To do that, you need to serve them through a web server.
You can quickly serve HTML files in the root directory of the project using the following command:

.Using Python
 $ python -m SimpleHTTPServer 4242

or

.Using Ruby >= 1.9.3
 $ ruby -run -e httpd . -p 4242

== Custom Stylesheets

Themes go in the [path]'sass/' folder.
To create a new theme, let's call it +hipster+, start by creating two new files:

[path]'sass/hipster.scss'::
  * Imports the theme settings, which includes default variables and resets
  * Imports the AsciiDoc components
  * Defines any explicit customizations

[path]'sass/settings/_hipster.scss'::
  * Sets variables that customize Foundation 4 and the AsciiDoc CSS components

Here's a minimal version of [path]'sass/hipster.scss':

[source, scss]
----
@import "settings/hipster";
@import "components/asciidoc";
@import "components/awesome-icons";
----

NOTE: You don't have to include the underscore prefix when importing files.

NOTE: The +awesome-icons+ component is only applicable to HTML generated by Asciidoctor > 0.1.2 with the +icons+ attribute set to +font+.

You can add any explicit customizations below the import lines.

The variables you can set in [path]'sass/settings/_hipster.scss' are a combination of the {factory-ref}/blob/master/sass/settings/_settings.scss.dist[Foundation 4 built-in global settings] and {factory-ref}/blob/master/sass/settings/_defaults.scss[global settings and imports for the AsciiDoc components].

=== Multiple custom template directories

Custom templates can be stored in multiple directories.
That means you can build on an existing backend by copying only the templates you want to modify.
Then, just pass both the directory holding the original templates and the directory containing your customized templates when you invoke Asciidoctor.

In the CLI, multiple template directories are specified by using the +-T+ option multiple times.

 $ asciidoctor -T /path/to/original/templates -T /path/to/modified/templates sample.adoc

In the API, multiple template directories are specified by passing an array to the +template_dirs+ option:

```ruby
Asciidoctor.render_file 'sample.adoc', :safe => :safe, :in_place => true,
    :template_dirs => ['/path/to/original/templates', '/path/to/modified/templates']
```

== Styling DocBook and PDF Output

NOTE: Section pending

= Part 9: Producing and Publishing Your Content

NOTE: Section pending

== Production

NOTE: Section pending

=== Locally

NOTE: Section pending

=== Multipart books and large documents

NOTE: Section pending

=== Process multiple source files from the CLI

You can pass multiple source files (or a file name pattern) to the Asciidoctor CLI and it will process all the files in turn.

Let's assume there are two AsciiDoc files in your directory, [file]#a.adoc# and [file]#b.adoc#.
When you enter the following command in your terminal:

 $ asciidoctor a.adoc b.adoc

Asciidoctor will process both files, transforming [file]#a.adoc# to [file]#a.html# and [file]#b.adoc# to [file]#b.html#.

To save you some typing, you can use the glob operator (+*+) to match both files using a single argument:

 $ asciidoctor *.adoc

The shell will expand the previous command to the one you typed earlier:

 $ asciidoctor a.adoc b.adoc

You can also render all the AsciiDoc files in immediate subfolders using the double glob operator (+**+) in place of the directory name:

 $ asciidoctor **/*.adoc

To match all files in the current directory and immediate subfolders, use both glob patterns:

 $ asciidoctor *.adoc **/*.adoc

If the file name argument is quoted, the shell will not expand it:

 $ asciidoctor '*.adoc'

This time, the text +*.adoc+ gets passed directly to Asciidoctor instead of being expanded to [file]#a.adoc# and [file]#b.adoc#.
In this case, Asciidoctor handles the glob matching internally in the same way the shell does (when the file name is not in quotes)--with one exception.
Asciidoctor can match files in the current directory and subfolders at any depth using a single glob pattern:

 $ asciidoctor '**/*.adoc'

=== Specify output file

The +asciidoctor+ command writes to the specified output file if the input is stdin.

For example, the following command writes to +output.html+ instead of to the console:

 $ echo "content" | asciidoctor -o output.html
 
== Publishing

NOTE: Section pending

=== Repositories

NOTE: Section pending

=== Static website generators

NOTE: Section pending

=== Configuring attributes for Awestruct

Awestruct defines a set of default attributes that it passes to the API in its [path]'/default-site.yml' file.
One of the attributes in that configuration is +imagesdir+. 
The value there is set to [path]'/images'. 
That means the value in your document is skipped due to the precedence rules.

Fortunately, there is one additional place you can override the attribute. 
This gives you the opportunity to set your own default and to flip the precedence order so that the document wins out. 
If an attribute value that is passed to the API ends with an +@+ symbol, it makes that assignment have a lower precedence than an assignment in the document.

You can define attributes you want to pass to the API in the [path]'_config/site.yml' file. 
Here's an example entry for Asciidoctor:

```yaml
asciidoctor:
  :safe: safe
  :attributes:
    imagesdir: /assets/images@
    icons: font
    ...
```

NOTE: The second-level keys (safe and attributes, in this case) must have colons on both sides of the key name. 
The rest of the keys only have a colon after the key.

With this configuration added, you should observe that the +imagesdir+ attribute in your document is now respected.

= Part 10: Extensions

The extension API is available as a technology preview in Asciidoctor 0.1.4.

.Technology Preview
[WARNING]
====
The extension API should be considered *experimental* and *subject to change*.
This technology preview is intended for developers interested in playing around with it and helping to mature the design.

If you need the capabilities that extensions provide now, don't be afraid to jump on board.
Just keep in mind that you may need to rework parts of your extensions when you upgrade Asciidoctor.
====

== Introduction

Extensions have proven to be central to the success of AsciiDoc and the Python implementation.
Despite the success they've enjoyed, there's still _plenty_ of room for improvement.

Extensions in AsciiDoc (technically called filters) have a number of problems:

* they are challenging to write because they work at such a low-level (read as: nasty regular expressions)
* they are fragile since they rely on system commands to do anything significant
* they are hard to distribute due to the lack of integration with a formal distribution system

The goal for Asciidoctor has always been to allow extensions to be written using the full power of a programming language (whether it be Ruby, Java, Groovy or JavaScript), similar to what we've done with the backend (rendering) mechanism.
That way, you don't have to shave yaks to get the functionality you want, and you can distribute the extension using defacto-standard packaging mechanisms (like RubyGems or JARs).

== Extension Points

Here are the extension points that are available in Asciidoctor 0.1.4.

Preprocessor::
  Processes the raw source lines before they are passed to the parser.

Treeprocessor::
  Processes the [class]#Asciidoctor::Document# (AST) once parsing is complete.

Postprocessor::
  Processes the output after the document has been rendered, but before it's written to disk.

Block processor::
  Processes a block of content marked with a custom block style (i.e., `[custom]`). (similar to an AsciiDoc filter)

Block macro processor::
  Registers a custom block macro and processes it (e.g., `gist::12345[]`).

Inline macro processor::
  Registers a custom inline macro and processes it (e.g., `btn:[Save]`).

Include processor::
  Processes the `include::<filename>[]` directive.

These extensions are registered per document using a callback that feels sort of like a DSL:

```ruby
Asciidoctor::Extensions.register do |document|
  preprocessor FrontMatterPreprocessor
  treeprocessor TerminalCommandTreeprocessor
  postprocessor CustomFooterPostprocessor
  block :yell, YellBlock
  block_macro :gist, GistMacro if document.basebackend? 'html'
  inline_macro :man, ManpageMacro
end
```

You can register more than one processor of each type, though you can only have one processor per custom block or macro.
Each registered class is instantiated when the [class]#Asciidoctor::Document# is created.

NOTE: There is currently no extension point for processing a built-in block, such as a normal paragraph.
Look for that feature in a future Asciidoctor release.

For now, you need to use the Asciidoctor API (not the CLI) in order to register the extensions and invoke Asciidoctor.
Eventually, we'll be able to load extensions packaged in a RubyGem (Ruby) or JAR (Java) by scanning
the LOAD_PATH (Ruby) or classpath (Java), respectively.
We may also ship some built-in extensions that can be enabled using an attribute named +extensions+, similar to how Markdown processors work.

TIP: For those of you on the JVM, yes, you can write extensions in Java.
We've prototyped it and it works.
We're still sorting out a few technical challenges and documentation to make it completely smooth, but we'll get there.
For details, follow the discussion in issue {issue-ref}/97[#97].

== Example Extensions

Below are several examples of extensions and how they are registered.

=== Preprocessor example

Purpose::
  Skim off front matter from the top of the document that gets used by site generators like Jekyll and Awestruct.

.sample-with-front-matter.ad

```
---
tags: [announcement, website]
---
= Document Title

content

[subs="attributes,specialcharacters"]
.Captured front matter
....
---
{front-matter}
---
....
```

.FrontMatterPreprocessor

```ruby
require 'asciidoctor'
require 'asciidoctor/extensions'

class FrontMatterPreprocessor < Asciidoctor::Extensions::Preprocessor
  def process reader, lines
    return reader if lines.empty?
    front_matter = []
    if lines.first.chomp == '---'
      original_lines = lines.dup
      lines.shift
      while !lines.empty? && lines.first.chomp != '---'
        front_matter << lines.shift
      end

      if (first = lines.first).nil? || first.chomp != '---'
        lines = original_lines
      else
        lines.shift
        @document.attributes['front-matter'] = front_matter.join.chomp
        # advance the reader by the number of lines taken
        (front_matter.length + 2).times { reader.advance }
      end
    end
    reader
  end
end
```

.Usage

```ruby
Asciidoctor::Extensions.register do |document|
  preprocessor FrontMatterPreprocessor
end

Asciidoctor.render_file 'sample-with-front-matter.ad', :safe => :safe, :in_place => true
```

=== Treeprocessor example

Purpose::
  Detect literal blocks that contain terminal commands, strip the prompt character and style the command using CSS in such a way that the prompt character cannot be selected (as seen on help.github.com).

.sample-with-terminal-command.ad

```
 $ echo "Hello, World!"

 $ gem install asciidoctor
```

.TerminalCommandTreeprocessor

```ruby
class TerminalCommandTreeprocessor < Asciidoctor::Extensions::Treeprocessor
  def process
    process_blocks @document if @document.blocks?
  end

  def process_blocks node
    node.blocks.each_with_index do |block, i|
      if block.context == :literal && block.lines.first.start_with?('$ ')
        node.blocks[i] = convert_to_terminal_listing block
      else
        process_blocks block if block.blocks?
      end
    end
  end

  def convert_to_terminal_listing block
    attributes = block.attributes
    attributes['role'] = 'terminal'
    lines = block.lines.map do |line|
      line = block.sub_specialcharacters line.chomp
      if line.start_with? '$ '
        %(<span class="command">#{line[2..-1]}</span>)
      else
        line
      end
    end
    Asciidoctor::Block.new @document, :listing, :content_model => :verbatim, :subs => [],
        :source => lines * "\n", :attributes => attributes 
  end
end
```

.Usage

```ruby
Asciidoctor::Extensions.register do |document|
  treeprocessor TerminalCommandTreeprocessor
end

Asciidoctor.render_file 'sample-with-terminal-command.ad', :safe => :safe, :in_place => true
```

=== Postprocessor example

Purpose::
  Insert custom footer text.

.CustomFooterPostprocessor

```ruby
class CustomFooterPostprocessor < Asciidoctor::Extensions::Postprocessor
  def process output
    content = 'Copyright Acme, Inc.'
    if @document.basebackend? 'html'
      replacement = %(<div id="footer-text">\\1<br>\n#{content}\n</div>)
      output = output.sub(/<div id="footer-text">(.*?)<\/div>/m, replacement)
    elsif @document.basebackend? 'docbook'
      replacement = %(<simpara>#{content}</simpara>\n\\1)
      output = output.sub(/(<\/(?:article|book)>)/, replacement)
    end
    output
  end 
end
```

.Usage

```
Asciidoctor::Extensions.register do |document|
  postprocessor CustomFooterPostprocessor
end

Asciidoctor.render_file 'sample.ad', :safe => :safe, :in_place => true
```

=== Block processor example

Purpose::
  Register a custom block style named +yell+ that uppercases all the words and converts periods to exclamation points.

.sample-with-yell-block.ad

```
[yell]
The time is now. Get a move on.
```

.YellBlock

```ruby
require 'asciidoctor'
require 'asciidoctor/extensions'

class YellBlock < Asciidoctor::Extensions::BlockProcessor
  option :contexts, [:paragraph]
  option :content_model, :simple

  def process parent, reader, attributes
    lines = reader.lines.map {|line| line.upcase.gsub(/\.( |$)/, '!\\1') }
    Asciidoctor::Block.new parent, :paragraph, :source => lines, :attributes => attributes
  end
end
```

.Usage

```ruby
Asciidoctor::Extensions.register do |document|
  block :yell, YellBlock
end

Asciidoctor.render_file 'sample-with-yell-block.ad', :safe => :safe, :in_place => true
```

=== Block macro processor example

Purpose::
  Create a block macro named +gist+ for embedding a gist.

.sample-with-gist-macro.ad

```
.My Gist
gist::123456[]
```

.GistMacro

```ruby
require 'asciidoctor'
require 'asciidoctor/extensions'

class GistMacro < Asciidoctor::Extensions::BlockMacroProcessor
  def process parent, target, attributes
    title = (attributes.has_key? 'title') ?
        %(\n<div class="title">#{attributes['title']}</div>) : nil
    source = %(<div class="gistblock">#{title}
<div class="content">
<script src="https://gist.github.com/#{target}.js"></script>
</div>
</div>)
    Asciidoctor::Block.new parent, :pass, :content_model => :raw, :source => source
  end
end
```

.Usage

```ruby
Asciidoctor::Extensions.register do |document|
  if document.basebackend? 'html'
    block_macro :gist, GistMacro
  end
end

Asciidoctor.render_file('sample-with-gist.ad', :safe => :safe, :in_place => true)
```

=== Inline macro processor example

Purpose:: 
  Create an inline macro named +man+ that links to a manpage.

.sample-with-man-link.ad

```
See man:gittutorial[7] to get started.
```

.ManpageMacro

```ruby
require 'asciidoctor'
require 'asciidoctor/extensions'

class ManpageMacro < Asciidoctor::Extensions::InlineMacroProcessor
  option :pos_attrs, ['volnum']

  def process parent, target, attributes
    text = manname = target
    suffix = ''
    target = "#{manname}.html"
    if (volnum = attributes.fetch('volnum', nil))
      suffix = "(#{volnum})"
    end
    @document.register(:links, target)
    %(#{Asciidoctor::Inline.new(parent, :anchor, text, :type => :link, :target => target).render}#{suffix})
  end
end
```

.Usage

```ruby
Asciidoctor::Extensions.register do |document|
  inline_macro :man, ManpageMacro
end

Asciidoctor.render_file('sample-with-man-link.ad', :safe => :safe, :in_place => true)
```

=== Include processor example

Purpose::
  Include a file from a URI.

.sample-with-uri-include.ad

```
:source-highlighter: coderay

.Gemfile
[source,ruby]
----
\include::https://raw.github.com/asciidoctor/asciidoctor/master/Gemfile[]
----
```

.UriIncludeProcessor

```ruby
require 'asciidoctor'
require 'asciidoctor/extensions'
require 'uri-open'

class UriIncludeProcessor < Asciidoctor::Extensions::IncludeProcessor
  def handles? target
    target.start_with?('http://') or target.start_with?('https://')
  end

  def process reader, target, attributes
    content = open(target).readlines
    reader.push_include content, target, target, 1, attributes
  end
end
```

.Usage

```ruby
Asciidoctor::Extensions.register do |document|
  include_processor UriIncludeProcessor
end

Asciidoctor.render_file('sample-with-uri-include.ad', :safe => :safe, :in_place => true)
```

= Part 11: Build Integrations and Implementations

NOTE: Section pending

== Java

NOTE: Section pending

== Gradle

NOTE: Section pending

== Maven

NOTE: Section pending

== JavaDoc

NOTE: Section pending

== Javascript

NOTE: Section pending

== Yard

NOTE: Section pending

== Rdoc

NOTE: Section pending

= Part 12: Conversions and Migrations

NOTE: Section pending

== Converting Markdown *to* Asciidoctor

NOTE: Section pending

== Migrating from AsciiDoc to Asciidoctor

NOTE: Section pending

= Part 13: Conclusion

NOTE: Section pending

= Part 14: Resources

NOTE: Section pending

== Copyright and Licensing

Copyright (C) 2012-2013 Dan Allen and Ryan Waldron. 
Free use of this software is granted under the terms of the MIT License.

See the {license}[LICENSE] file for details.

== Authors

*Asciidoctor* was written by {mojavelinux}[Dan Allen], {erebor}[Ryan Waldron], {lightguard}[Jason Porter], {nickh}[Nick Hengeveld] and {contributors}[other contributors].

The initial code from which Asciidoctor emerged was written by {nickh}[Nick Hengeveld] to process the git man pages for the {gitscm-next}[Git project site]. 
Refer to the commit history of {seed-contribution}[asciidoc.rb] to view the initial contributions.

*AsciiDoc* was written by Stuart Rackham and has received contributions from many other individuals.

// TODO fill in this section and enable
//== Thanks, acknowledgements, and credits

== FAQ (Frequently Asked Questions)

NOTE: Section pending

== Additional Resources

NOTE: Section pending

[glossary]
== Glossary

[glossary]
admonition paragraph:: a callout paragraph that has a label or icon indicating its priority
admonition block:: a callout block containing complex content that has a label or icon indicating its priority
backend:: a set of templates for converting AsciiDoc source to different output format
cross reference:: a link from one location in the document to another location marked by an anchor
list continuation:: a plus sign (`+`) on a line by itself that connects adjacent lines of text to a list item
quoted text:: text which is enclosed in special punctuation to give it emphasis or special meaning

NOTE: Section expansion pending

== Appendices

:leveloffset: 1
[[asciidoctor-vs-asciidoc]]
[appendix]
include::asciidoc-asciidoctor-diffs-table.adoc[]

// Include license and copyright

== Index

NOTE: Section pending

